(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["music"],{"020c":function(t,e,i){"use strict";i("112c")},"057f":function(t,e,i){var n=i("fc6a"),a=i("241c").f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return a(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?s(t):a(n(t))}},"112c":function(t,e,i){},"14c3":function(t,e,i){var n=i("c6b6"),a=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var r=i.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},1973:function(t,e,i){"use strict";i("9c15")},"1dde":function(t,e,i){var n=i("d039"),a=i("b622"),r=i("2d00"),o=a("species");t.exports=function(t){return r>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3385:function(t,e,i){"use strict";i("e5b4")},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,a=i("69f3"),r=i("7dd0"),o="String Iterator",s=a.set,c=a.getterFor(o);r(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),i=e.string,a=e.index;return a>=i.length?{value:void 0,done:!0}:(t=n(i,a),e.index+=t.length,{value:t,done:!1})}))},5125:function(t,e,i){"use strict";i.r(e);var n=i("5c40"),a={style:{height:"100%"}};function r(t,e){var i=Object(n["x"])("particles-bg"),r=Object(n["x"])("vue-particles"),o=Object(n["x"])("pau-player");return Object(n["s"])(),Object(n["g"])("div",a,[Object(n["k"])(i,{key:t.particles+1,ref:"particles",type:"circle",num:6,bg:""},null,512),Object(n["k"])(r,{key:t.particles,"shape-type":"circle","line-linked":!1,"hover-effect":!1,"click-mode":"push","particle-size":3,style:{width:"100%",height:"100%",position:"absolute","z-index":"0",top:"0px",left:"0px"}}),Object(n["k"])(o,{tracks:t.tracks},null,8,["tracks"])])}var o=Object(n["H"])("data-v-d60e5c56"),s=o((function(t,e){return Object(n["s"])(),Object(n["g"])(Object(n["y"])(t.particles),{globalCompositeOperation:t.globalCompositeOperation,num:t.getNum(),bg:t.bg,color:t.color,canvas:t.canvas,config:t.config},null,8,["globalCompositeOperation","num","bg","color","canvas","config"])}));i("c975"),i("a9e3");class c{constructor(){this.list=[]}set(t,e){this.list.push({probability:t,target:e,a:0,b:1}),this.calculation()}calculation(){let t=0;for(let e=0;e<this.list.length;e++)t+=this.list[e].probability;for(let e=0;e<this.list.length;e++){const i=this.list[e],n=i.probability/t;i.a=0===e?0:this.list[e-1].b,i.b=i.a+n}}getResult(){const t=Math.random();for(let e=0;e<this.list.length;e++){const i=this.list[e];if(t<=i.b&&t>i.a)return i.target}return this.list[0].target}}var h=c;function l(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"source-over",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var u=Object(n["H"])("data-v-0fc19be9"),d=u((function(t,e){return Object(n["s"])(),Object(n["g"])("canvas",{class:"canvas",ref:"canvasRef",style:t.styleObject,onMousedown:e[1]||(e[1]=function(e){return t.handleMouseDown(e)}),onMousemove:e[2]||(e[2]=function(e){return t.handleMouseMove(e)})},null,36)})),v={name:"CanvasComp",props:{canvas:Object,bg:Boolean,globalCompositeOperation:String},data:function(){return{styleObject:{width:"100%",height:"100%"}}},methods:{initCanvas:function(){var t=this.$refs.canvasRef,e=t.clientWidth,i=t.clientHeight;if(t.width=e,t.height=i,this.globalCompositeOperation){var n=t.getContext("2d");n.globalCompositeOperation=this.globalCompositeOperation}this.$emit("canvasInited",t)},resize:function(){var t=this.$refs.canvasRef,e=t.clientWidth,i=t.clientHeight;t.width=e,t.height=i,this.$emit("canvasResize",{width:e,height:i})},handleMouseDown:function(t){this.$emit("canvasMouseDown",t)},handleMouseMove:function(t){this.$emit("canvasMouseMove",t)}},created:function(){this.bg&&(this.styleObject=Object.assign(this.styleObject,{position:"absolute",zIndex:-1,top:0,left:0})),this.canvas&&(this.styleObject=Object.assign(this.styleObject,this.canvas))},mounted:function(){this.initCanvas(),this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}};i("dcfa");v.render=d,v.__scopeId="data-v-0fc19be9";var p=v,f=i("d1cb"),g=i.n(f),y=i("b4e7"),m=i.n(y);function b(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{}}function w(t,e){let i;return t?(i=b(t),`rgba(${i.r},${i.g},${i.b}, ${e})`):null}var x={name:"BallParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,num:Number,color:String,config:{}},methods:{canvasInited:function(t){this.createProton(t),this.createMiniEmitter(t),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){var e=this;t.width,t.height;this.proton=new g.a;var i=t.getContext("2d"),n=new g.a.Emitter;n.rate=new g.a.Rate(this.num?new g.a.Span(this.num):new g.a.Span(4,9),new g.a.Span(.8,1.3)),n.addInitialize(new g.a.Mass(1)),n.addInitialize(new g.a.Radius(1,50)),n.addInitialize(new g.a.Life(5,6)),n.addInitialize(new g.a.Velocity(new g.a.Span(5,8),new g.a.Span(30,70),"polar")),n.addBehaviour(new g.a.Alpha(1,0)),n.addBehaviour(new g.a.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),n.addBehaviour(new g.a.Scale(.7,1)),n.addBehaviour(new g.a.Gravity(3)),n.addBehaviour(new g.a.Collision(n)),n.addBehaviour(this.customDeadBehaviour(t));var a=new g.a.CrossZone(new g.a.RectZone(0,0,t.width,t.height),"bound");n.addBehaviour(a),n.p.x=Math.min(500,Math.max(t.width/2-400,50)),n.p.y=t.height/2+50,n.emit(),this.proton.addEmitter(n);var r=new g.a.CanvasRenderer(t);r.onProtonUpdate=function(){i.fillStyle=w(e.color,.2)||"rgba(255, 255, 255, 0.2)",i.fillRect(0,0,t.width,t.height)},this.proton.addRenderer(r),this.crossZoneBehaviour=a},customDeadBehaviour:function(t){var e=this;return{initialize:function(t){},applyBehaviour:function(i){i.p.y+i.radius>=t.height&&i.radius>9&&(e.miniEmitteing(i),i.dead=!0)}}},createMiniEmitter:function(t){var e=new g.a.Emitter;e.rate=new g.a.Rate(new g.a.Span(3,6),new g.a.Span(1,2)),e.addInitialize(new g.a.Mass(1)),e.radiusInitialize=new g.a.Radius,e.addInitialize(e.radiusInitialize),e.addInitialize(new g.a.Life(.5,1)),e.addInitialize(new g.a.V(new g.a.Span(1.5,3),new g.a.Span(0,70,!0),"polar")),e.colorBehaviour=new g.a.Color("#ffffff"),e.addBehaviour(new g.a.Alpha(1,0)),e.addBehaviour(e.colorBehaviour),e.addBehaviour(new g.a.Gravity(4)),e.addBehaviour(new g.a.Collision(e)),e.addBehaviour(new g.a.CrossZone(new g.a.RectZone(0,0,t.width,t.height),"bound")),this.proton.addEmitter(e),this.miniEmitter=e},miniEmitteing:function(t){var e=this.miniEmitter;e.radiusInitialize.reset(.05*t.radius,.2*t.radius),e.colorBehaviour.reset(t.color),e.p.x=t.p.x,e.p.y=t.p.y,e.emit("once")},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};x.render=l;var P=x;function k(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"source-over",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var _=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],O={name:"ColorParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){var e=t.width,i=t.height;this.proton=new g.a;var n=new g.a.Emitter;n.rate=new g.a.Rate(this.num?new g.a.Span(this.num):new g.a.Span(5,8),new g.a.Span(.1,.25)),n.addInitialize(new g.a.Mass(1)),n.addInitialize(new g.a.Radius(20,200)),n.addInitialize(new g.a.Life(2,4)),n.addInitialize(new g.a.Position(new g.a.RectZone(0,0,e,i))),n.addBehaviour(new g.a.Alpha(0,1,1/0,g.a.easeOutCubic)),n.addBehaviour(new g.a.Scale(1,0,1/0,g.a.easeOutCubic)),n.addBehaviour(new g.a.Color(_,"random")),n.emit(),this.proton.addEmitter(n);var a=new g.a.CanvasRenderer(t);this.proton.addRenderer(a)},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};O.render=k;var R=O;function E(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"source-over",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var C=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],S={name:"ColorParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){t.width,t.height;this.proton=new g.a;var e=new g.a.Emitter;e.rate=new g.a.Rate(this.num||20),e.damping=.008,e.addInitialize(new g.a.Mass(1)),e.addInitialize(new g.a.Radius(30,600)),e.addInitialize(new g.a.Velocity(new g.a.Span(.5),new g.a.Span(0,360),"polar")),e.addInitialize(new g.a.Position(new g.a.RectZone(0,0,t.width,t.height)));var i=new g.a.CrossZone(new g.a.RectZone(0,0,t.width,t.height),"cross");e.addBehaviour(i),e.addBehaviour(new g.a.Alpha(g.a.getSpan(.35,.55))),e.addBehaviour(new g.a.Color(this.getColor())),e.addBehaviour(new g.a.RandomDrift(50,50,.5)),e.emit("once"),this.proton.addEmitter(e);var n=new g.a.CanvasRenderer(t);this.proton.addRenderer(n),this.crossZoneBehaviour=i},getColor:function(){var t=C;return this.color&&(t=Array.isArray(this.color)?this.color:[this.color]),t},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};S.render=E;var A=S;function T(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"source-over",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var I={name:"CobwebParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){var e=t.width,i=t.height;this.proton=new g.a;var n=new g.a.Emitter;n.rate=new g.a.Rate(this.num?new g.a.Span(this.num):new g.a.Span(100),new g.a.Span(.05,.2)),n.addInitialize(new g.a.Mass(1)),n.addInitialize(new g.a.Radius(1,4)),n.addInitialize(new g.a.Life(1/0));var a=new g.a.Position(new g.a.RectZone(0,0,e,i));n.addInitialize(a),n.addInitialize(new g.a.Velocity(new g.a.Span(.3,.6),new g.a.Span(0,360),"polar")),n.addBehaviour(new g.a.Alpha(g.a.getSpan(.2,.9))),n.addBehaviour(new g.a.Color(this.color||"#333")),this.crossZoneBehaviour=new g.a.CrossZone(new g.a.RectZone(0,0,e,i),"cross"),n.addBehaviour(this.crossZoneBehaviour),n.emit("once"),n.damping=0,this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t,n))},createRenderer:function(t,e){var i=this,n=t.getContext("2d"),a=new g.a.CanvasRenderer(t),r=140;return a.onProtonUpdateAfter=function(){for(var t=e.particles,a=0;a<t.length;a++)for(var o=a+1;o<t.length;o++){var s=t[a],c=t[o],h=s.p.distanceTo(c.p);if(h<r){var l=.5*(1-h/r);n.strokeStyle=w(i.color,l)||"rgba(3, 3, 3, ".concat(l,")"),n.beginPath(),n.moveTo(s.p.x,s.p.y),n.lineTo(c.p.x,c.p.y),n.closePath(),n.stroke()}}},a},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};I.render=T;var M=I;function B(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"source-over",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}i("cb29"),i("ac1f"),i("5319");var j={name:"ThickParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.canvasDom=t,this.createProton(t),m.a.add(this.renderProton),this.color&&(t.style.backgroundColor=this.color)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){t.width,t.height;this.proton=new g.a;var e=new g.a.Emitter;e.damping=.008,e.rate=new g.a.Rate(this.num?this.num:150),e.addInitialize(new g.a.Mass(1)),e.addInitialize(new g.a.Radius(8)),e.addInitialize(new g.a.V(new g.a.Span(.1,.5),new g.a.Span(0,360),"polar")),e.addInitialize(new g.a.Position(new g.a.CircleZone(t.width/2,t.height/2,100)));var i=new g.a.CrossZone(new g.a.RectZone(0,0,t.width,t.height),"cross");e.addBehaviour(i),this.repulsion=new g.a.Repulsion({x:t.width/2,y:t.height/2-100},3,300),this.attraction=new g.a.Attraction({x:t.width/2,y:t.height/2},3,200),e.addBehaviour(this.attraction,this.repulsion),e.addBehaviour(new g.a.Color("random")),e.addBehaviour(new g.a.RandomDrift(20,15,.15)),e.emit("once"),this.proton.addEmitter(e),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=i},createRenderer:function(t){var e=this,i=t.getContext("2d"),n=new g.a.CanvasRenderer(t);return n.onProtonUpdate=function(){e.hue+=1,i.fillStyle=w(e.color,.02)||"rgba(0, 0, 0, 0.02)",i.fillRect(0,0,t.width,t.height)},n.onParticleCreated=function(t){t.data.begin=g.a.MathUtil.randomAToB(1,120),t.data.tha=g.a.MathUtil.randomAToB(0,2*Math.PI)},n.onParticleUpdate=function(t){var n=t.data.begin+e.hue;t.color=e.colorTemplate.replace("hue",n%360);var a=3/4,r=t.radius*(1-a)*Math.cos(t.data.tha+=.01)+t.radius*a;i.beginPath(),i.fillStyle=t.color,i.arc(t.p.x,t.p.y,r,0,2*Math.PI,!0),i.closePath(),i.fill()},n},renderProton:function(){var t=this.canvasDom;this.proton.update(),this.index%200===0&&(this.attraction.targetPosition.x=Math.random()*t.width,this.attraction.targetPosition.y=Math.random()*t.height,this.repulsion.targetPosition.x=Math.random()*t.width,this.repulsion.targetPosition.y=Math.random()*t.height),this.index++}},created:function(){this.hue=0,this.index=0,this.colorTemplate="hsla(hue,80%,50%, 0.75)",this.renderProton=this.renderProton.bind(this)},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};j.render=B;var z=j;function D(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"getCompositeOperation()",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");function V(t){return V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}var L=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],F={name:"CustomParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,num:Number,color:String,globalCompositeOperation:String,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},getCompositeOperation:function(){var t=this.globalCompositeOperation||this.operation||"source-over";return t},getProp:function(t,e){var i=this.config||{},n=i[t]||e;return Array.isArray(n)?new g.a.Span(n[0],n[1]):n},getArrProp:function(t,e){var i=this.config||{},n=i[t]||e;return n?Array.isArray(n)?n:[n,n]:null},createProton:function(t,e,i){var n,a,r=this.getProp("num",[5,8]),o=this.getProp("rps",[.1,.2]),s=this.getProp("mass",1),c=this.getProp("radius",[10,30]),h=this.getProp("life",[2,3]),l=this.getProp("body"),u=this.getProp("position"),d=this.getProp("v",[2,3]),v=this.getProp("tha",[-15,15]),p=this.getArrProp("alpha"),f=this.getArrProp("scale"),y=this.getArrProp("color"),m=this.getProp("cross","dead"),b=this.getProp("random"),w=this.getArrProp("rotate"),x=this.getProp("g"),P=this.getArrProp("f"),k=this.getProp("emitter");this.proton=new g.a,n="follow"===k?new g.a.FollowEmitter:new g.a.Emitter,n.rate=new g.a.Rate(r,o),n.addInitialize(new g.a.Mass(s)),n.addInitialize(new g.a.Radius(c)),n.addInitialize(new g.a.Life(h)),n.addInitialize(new g.a.Velocity(d,v,"polar")),l&&n.addInitialize(new g.a.Body(l)),"all"===u||"screen"===u?a=new g.a.Position(new g.a.RectZone(0,0,t.width,t.height)):"object"===V(u)?a=new g.a.Position(new g.a.RectZone(u.x,u.y,u.width,u.height)):(n.p.x=t.width/2,n.p.y=t.height/2),n.addInitialize(a);var _=p?new g.a.Alpha(p[0],p[1]):new g.a.Alpha(0,1),O=f?new g.a.Scale(f[0],f[1]):new g.a.Scale(1,.2),R=y?new g.a.Color(y[0],y[1]):new g.a.Color(L);n.addBehaviour(_),n.addBehaviour(O),l||n.addBehaviour(R),w&&(!0===w[0]||"rotate"===w[0]?n.addBehaviour(new g.a.Rotate):n.addBehaviour(new g.a.Rotate(w[0],w[1])));var E=new g.a.RectZone(0,0,t.width,t.height),C=new g.a.CrossZone(E,m);n.addBehaviour(C),b&&n.addBehaviour(new g.a.RandomDrift(b,b,.05)),x&&n.addBehaviour(new g.a.G(x)),P&&n.addBehaviour(new g.a.F(P[0],P[1])),n.emit(),this.proton.addEmitter(n);var S=this.createRenderer(t);this.proton.addRenderer(S),this.emitter=n,this.crossZoneBehaviour=C},createRenderer:function(t){var e=t.width,i=t.height,n=t.getContext("2d"),a=new g.a.CanvasRenderer(t),r=this.getProp("onUpdate");r&&(a.onProtonUpdate=function(){r(n,e,i)});var o=this.getProp("onParticleCreated");o&&(a.onParticleCreated=function(t){o(n,t)});var s=this.getProp("onParticleUpdate");return s&&(a.onParticleUpdate=function(t){s(n,t)}),a},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};F.render=D;var U=F;function N(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"source-over",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var Z={name:"LinesParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton),this.color&&(t.style.backgroundColor=this.color)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){var e=t.width,i=t.height;this.proton=new g.a;var n=new g.a.Emitter;n.damping=.008,n.rate=new g.a.Rate(this.num?this.num:250),n.addInitialize(new g.a.Mass(1)),n.addInitialize(new g.a.Radius(4)),n.addInitialize(new g.a.Velocity(new g.a.Span(1.5),new g.a.Span(0,360),"polar"));var a={x:e/2,y:i/2},r=new g.a.Attraction(a,0,0),o=new g.a.CrossZone(new g.a.RectZone(0,0,t.width,t.height),"cross");n.addBehaviour(new g.a.Color("random")),n.addBehaviour(r,o),n.addBehaviour(new g.a.RandomDrift(10,10,.05)),n.p.x=t.width/2,n.p.y=t.height/2,n.emit("once"),this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=o},createRenderer:function(t){var e=this,i=t.getContext("2d"),n=new g.a.CanvasRenderer(t);return n.onProtonUpdate=function(){i.fillStyle=w(e.color,.02)||"rgba(0, 0, 0, 0.02)",i.fillRect(0,0,t.width,t.height)},n.onParticleUpdate=function(t){i.beginPath(),i.strokeStyle=t.color,i.lineWidth=1,i.moveTo(t.old.p.x,t.old.p.y),i.lineTo(t.p.x,t.p.y),i.closePath(),i.stroke()},n},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};Z.render=N;var H,G=Z;function q(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"xor",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}function Y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var X=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],$={name:"PolygonParticles",components:{CanvasComp:p},props:(H={canvas:Object},Y(H,"canvas",Object),Y(H,"bg",Boolean),Y(H,"color",String),Y(H,"num",Number),Y(H,"config",{}),H),methods:{canvasInited:function(t){var e=t.width,i=t.height;this.createProton(t),this.createEmitter({canvas:t,x:e/2,y:i/2,mainEmitter:!0,zone:"bound"}),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){this.proton=new g.a;var e=this.createRenderer(t);this.proton.addRenderer(e)},createRenderer:function(t){var e=t.getContext("2d"),i=new g.a.CustomRenderer;i.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},i.onParticleCreated=function(t){t.data.count=g.a.MathUtil.randomAToB(3,10,!0)},i.onParticleUpdate=function(t){e.save(),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.translate(t.p.x,t.p.y),e.rotate(g.a.MathUtil.degreeTransform(t.rotation)),e.translate(-t.p.x,-t.p.y),e.beginPath(),n(t,t.data.count),e.closePath(),e.fill(),e.globalAlpha=1,e.restore()},i.onParticleDead=function(t){};var n=function(t,i){if(i>=7)e.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0);else for(var n=t.radius,a=0;a<=i;a++){var r=t.p.x+n*Math.cos(Math.PI/180*360/i*a),o=t.p.y+n*Math.sin(Math.PI/180*360/i*a);0===a?e.moveTo(r,o):e.lineTo(r,o)}};return i},createEmitter:function(t){var e=t.mainEmitter,i=t.canvas,n=t.x,a=t.y,r=t.radius,o=t.color,s=void 0===o?X:o,c=t.zone,h=void 0===c?"dead":c,l=t.once,u=void 0===l?"all":l,d=t.alpha,v=void 0===d?.85:d,p=t.gravity,f=void 0===p?3.5:p,y=this.proton.pool.get(g.a.Emitter);if(!y.completed){y.rate=new g.a.Rate(this.num?new g.a.Span(this.num):new g.a.Span(4,9),new g.a.Span(1.6,2.2));var m=e?new g.a.Radius(10,110):new g.a.Radius(3,r);y.addInitialize(new g.a.Mass(1)),y.addInitialize(m),y.addInitialize(new g.a.Life(3,6)),y.addInitialize(new g.a.Velocity(new g.a.Span(4,6),new g.a.Span(-90,90),"polar")),y.addBehaviour(new g.a.Alpha(v,.2)),y.addBehaviour(new g.a.Color(s)),y.addBehaviour(new g.a.Scale(1,.3)),y.addBehaviour(new g.a.Rotate),y.addBehaviour(new g.a.Gravity(f)),y.addBehaviour(this.customDeadBehaviour(i)),y.addBehaviour(new g.a.CrossZone(new g.a.RectZone(0,0,i.width,i.height),h))}y.p.x=n,y.p.y=a,"once"===u?y.emit("once"):y.emit(),this.proton.addEmitter(y)},expireEmitter:function(t){var e=this;setTimeout((function(){t.completed=!0,e.proton.pool.expire(t),e.proton.removeEmitter(t)}),500)},customDeadBehaviour:function(t){var e=this;return{initialize:function(t){t.data=t.data||{},t.data.oldRadius=t.radius,t.data.emitterCount=0},applyBehaviour:function(i){i.radius<5||i.data.emitterCount>=2||i.radius<=1/3*i.data.oldRadius&&(i.data.emitterCount++,e.createEmitter({canvas:t,x:i.p.x,y:i.p.y,radius:.5*i.radius,alpha:.5,gravity:5,color:i.color,once:"once"}))}}},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};$.render=q;var W=$;function K(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"lighter",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var Q=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],J={name:"SquareParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton),this.color&&(t.style.backgroundColor=this.color)},canvasResize:function(t){var e=t.width,i=t.height,n=150;this.crossZoneBehaviour.zone.width=e+2*n,this.crossZoneBehaviour.zone.height=i+2*n,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){t.width,t.height;this.proton=new g.a;var e=new g.a.Emitter;e.rate=new g.a.Rate(this.num?this.num:50),e.damping=0,e.addInitialize(new g.a.Mass(1)),e.addInitialize(new g.a.Radius(4,70)),e.addInitialize(new g.a.Velocity(new g.a.Span(4,12),180,"polar")),e.addInitialize(new g.a.Position(new g.a.LineZone(0,0,t.width,0)));var i=150,n=new g.a.CrossZone(new g.a.RectZone(0-i,0-i,t.width+2*i,t.height+2*i),"cross");e.addBehaviour(n),e.addBehaviour(new g.a.Alpha(g.a.getSpan(.1,.55))),e.addBehaviour(new g.a.Color(Q)),e.emit("once"),this.proton.addEmitter(e);var a=this.createRenderer(t);this.proton.addRenderer(a),this.crossZoneBehaviour=n,e.preEmit(2)},createRenderer:function(t){var e=t.getContext("2d"),i=new g.a.CustomRenderer;return i.onProtonUpdate=function(){e.clearRect(0,0,t.width,t.height)},i.onParticleCreated=function(t){var e=t.radius||60,i=g.a.MathUtil.randomAToB(100,200,"int");t.data.w=e,t.data.h=i},i.onParticleUpdate=function(t){var i=t.data.w,n=t.data.h;e.save(),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.translate(t.p.x,t.p.y),e.rotate(g.a.MathUtil.degreeTransform(t.rotation)),e.translate(-t.p.x,-t.p.y),e.beginPath(),e.rect(t.p.x-i/2,t.p.y-n/2,i,n),e.closePath(),e.fill(),e.globalAlpha=1,e.restore()},i},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};J.render=K;var tt=J;function et(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"xor",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var it=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],nt={name:"FountainParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton),this.color&&(t.style.backgroundColor=this.color)},canvasResize:function(t){var e=t.width,i=t.height;this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){var e=t.width,i=t.height;this.proton=new g.a;var n=new g.a.Emitter;n.rate=new g.a.Rate(this.num?new g.a.Span(this.num):new g.a.Span(4,8),new g.a.Span(.1,.25)),n.addInitialize(new g.a.Mass(1)),n.addInitialize(new g.a.Radius(20,200)),n.addInitialize(new g.a.Life(2,4)),n.addInitialize(new g.a.Velocity(new g.a.Span(4,7),new g.a.Span(0,360),"polar")),n.addInitialize(new g.a.Position(new g.a.CircleZone(e/2,i/2,100))),n.addBehaviour(new g.a.Alpha(1,0)),n.addBehaviour(new g.a.Scale(.2,1)),n.addBehaviour(this.createCustomBehaviour()),n.addBehaviour(new g.a.Color(it,"random")),n.emit(),this.proton.addEmitter(n);var a=new g.a.CanvasRenderer(t);this.proton.addRenderer(a)},createCustomBehaviour:function(){var t=1e3;return{initialize:function(t){t.f=new g.a.Vector2D(0,0)},applyBehaviour:function(e){var i=e.v.length()/1e3,n=e.v.getGradient();n+=1.57,e.f.x=t*i*Math.cos(n),e.f.y=t*i*Math.sin(n),e.a.add(e.f)}}},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};nt.render=et;var at=nt;function rt(t,e){var i=Object(n["x"])("canvas-comp");return Object(n["s"])(),Object(n["g"])(i,{bg:t.bg,canvas:t.canvas,"global-composite-operation":"xor",onCanvasInited:e[1]||(e[1]=function(e){return t.canvasInited(e)}),onCanvasResize:e[2]||(e[2]=function(e){return t.canvasResize(e)}),onCanvasMouseDown:e[3]||(e[3]=function(e){return t.canvasMouseDown(e)})},null,8,["bg","canvas"])}var ot={name:"TadpoleParticles",components:{CanvasComp:p},props:{canvas:Object,bg:Boolean,color:String,num:Number,config:{}},methods:{canvasInited:function(t){this.createProton(t),m.a.add(this.renderProton)},canvasResize:function(t){var e=t.width,i=t.height;this.crossZoneBehaviour.zone.width=e,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(e,i)},canvasMouseDown:function(t){},createProton:function(t){var e=t.width,i=t.height;this.proton=new g.a;var n=new g.a.Emitter;n.damping=.008,n.rate=new g.a.Rate(this.num?this.num:50),n.addInitialize(new g.a.Mass(1)),n.addInitialize(new g.a.Radius(5,9)),n.addInitialize(new g.a.Velocity(new g.a.Span(1.5),new g.a.Span(0,360),"polar")),n.addInitialize(new g.a.Position(new g.a.RectZone(0,0,e,i)));var a={x:e/2,y:i/2},r=new g.a.Attraction(a,0,0),o=new g.a.CrossZone(new g.a.RectZone(0,0,t.width,t.height),"bound");n.addBehaviour(new g.a.Color(this.color||"#bbbbbb")),n.addBehaviour(r,o),n.addBehaviour(new g.a.RandomDrift(15,15,.05)),n.emit("once"),this.proton.addEmitter(n),this.proton.addRenderer(this.createRenderer(t)),this.crossZoneBehaviour=o},createRenderer:function(t){var e=12,i=6,n=t.getContext("2d"),a=new g.a.CanvasRenderer(t);a.onProtonUpdate=function(){n.clearRect(0,0,t.width,t.height)},a.onParticleCreated=function(t){t.data.points=[],t.data.index=0},a.onParticleUpdate=function(t){s(t),t.data.index%i===0&&r(t),o(t),t.data.index++};var r=function(t){t.data.points.unshift(t.p.y),t.data.points.unshift(t.p.x),t.data.points.length>e&&(t.data.points.pop(),t.data.points.pop())},o=function(t){n.fillStyle=t.color,n.beginPath(),n.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),n.closePath(),n.fill()},s=function(t){n.beginPath(),n.strokeStyle=t.color,n.moveTo(t.p.x,t.p.y);for(var e=t.data.points.length,i=0;i<e;i+=2){var a=t.data.points[i],r=t.data.points[i+1];n.lineWidth=c(i,e),n.lineTo(a,r),n.stroke()}},c=function(t,e){if(e<=2)return 1;var i=6,n=(i-1)/(2/e-1),a=1-n,r=(t+2)/e,o=n*r+a;return o>>=0,o};return a},renderProton:function(){this.proton&&this.proton.update()}},beforeDestroy:function(){try{this.proton.destroy(),m.a.remove(this.renderProton)}catch(t){}}};ot.render=rt;var st=ot,ct={name:"ParticlesBg",components:{ColorParticles:R,CircleParticles:A,CobwebParticles:M,ThickParticles:z,LinesParticles:G,FountainParticles:at,CustomParticles:U,PolygonParticles:W,SquareParticles:tt,TadpoleParticles:st,BallParticles:P},props:{type:{type:String,required:!1,default:"random"},num:[String,Number],bg:Boolean,color:String,config:Object,canvas:Object,list:Array,globalCompositeOperation:String},data:function(){return{particles:"color-particles"}},methods:{getNum:function(){return+this.num},getRandom:function(){return this.random||(this.random=new h,this.random.set(.25,"color-particles"),this.random.set(.2,"ball-particles"),this.random.set(.2,"circle-particles"),this.random.set(.2,"cobweb-particles"),this.random.set(.2,"thick-particles"),this.random.set(.2,"lines-particles"),this.random.set(.2,"fountain-particles"),this.random.set(.2,"polygon-particles"),this.random.set(.2,"square-particles"),this.random.set(.2,"tadpole-particles")),this.random.getResult()},getFromList:function(){if(!this.list)return this.getRandom();var t=this.list[Math.floor(Math.random()*this.list.length)];return t=this.transformName(t),t},transformName:function(t){return t=String(t).toLowerCase()||"random",t.indexOf("-")<=0&&(t+="-particles"),t},setParticles:function(){this.particles=this.transformName(this.type),0===this.particles.indexOf("random")&&(this.particles=this.getRandom()),0===this.particles.indexOf("list")&&(this.particles=this.getFromList())}},created:function(){this.setParticles()},beforeMount:function(){}};i("020c");ct.render=s,ct.__scopeId="data-v-d60e5c56";var ht=ct;const lt={ParticlesBg:ht},ut=function(t){if(!ut.installed)for(let e in lt)t.component(lt[e].name,lt[e])};"undefined"!==typeof window&&window.Vue&&ut(window.Vue);i("b0c0");var dt=i("830f"),vt={class:"wrapper"},pt={class:"player"},ft={class:"player__top"},gt={class:"player-cover"},yt={class:"player-controls"},mt=Object(n["k"])("svg",{class:"icon"},[Object(n["k"])("use",{"xlink:href":"#icon-prev"})],-1),bt=Object(n["k"])("svg",{class:"icon"},[Object(n["k"])("use",{"xlink:href":"#icon-next"})],-1),wt={class:"icon"},xt={key:0,"xlink:href":"#icon-pause"},Pt={key:1,"xlink:href":"#icon-play"},kt={class:"progress"},_t={class:"progress__top"},Ot={class:"progress__time"},Rt={class:"progress__duration"},Et=Object(n["k"])("svg",{xmlns:"http://www.w3.org/2000/svg",hidden:"","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Object(n["k"])("defs",null,[Object(n["k"])("symbol",{id:"icon-heart-o",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"icon-heart-o"),Object(n["k"])("path",{d:"M22.88 1.952c-2.72 0-5.184 1.28-6.88 3.456-1.696-2.176-4.16-3.456-6.88-3.456-4.48 0-9.024 3.648-9.024 10.592 0 7.232 7.776 12.704 15.072 17.248 0.256 0.16 0.544 0.256 0.832 0.256s0.576-0.096 0.832-0.256c7.296-4.544 15.072-10.016 15.072-17.248 0-6.944-4.544-10.592-9.024-10.592zM16 26.56c-4.864-3.072-12.736-8.288-12.736-14.016 0-5.088 3.040-7.424 5.824-7.424 2.368 0 4.384 1.504 5.408 4.032 0.256 0.608 0.832 0.992 1.472 0.992s1.248-0.384 1.472-0.992c1.024-2.528 3.040-4.032 5.408-4.032 2.816 0 5.824 2.304 5.824 7.424 0.064 5.728-7.808 10.976-12.672 14.016z"}),Object(n["k"])("path",{d:"M16 30.144c-0.32 0-0.64-0.096-0.896-0.256-7.296-4.576-15.104-10.048-15.104-17.344 0-7.008 4.576-10.688 9.12-10.688 2.656 0 5.152 1.216 6.88 3.392 1.728-2.144 4.224-3.392 6.88-3.392 4.544 0 9.12 3.68 9.12 10.688 0 7.296-7.808 12.768-15.104 17.344-0.256 0.16-0.576 0.256-0.896 0.256zM9.12 2.048c-4.448 0-8.928 3.616-8.928 10.496 0 7.168 7.744 12.64 15.008 17.152 0.48 0.288 1.12 0.288 1.568 0 7.264-4.544 15.008-9.984 15.008-17.152 0-6.88-4.48-10.496-8.928-10.496-2.656 0-5.088 1.216-6.816 3.392l-0.032 0.128-0.064-0.096c-1.696-2.176-4.192-3.424-6.816-3.424zM16 26.688l-0.064-0.032c-3.808-2.4-12.768-8.032-12.768-14.112 0-5.152 3.072-7.52 5.952-7.52 2.432 0 4.48 1.536 5.504 4.096 0.224 0.576 0.768 0.928 1.376 0.928s1.152-0.384 1.376-0.928c1.024-2.56 3.072-4.096 5.504-4.096 2.848 0 5.952 2.336 5.952 7.52 0 6.080-8.96 11.712-12.768 14.112l-0.064 0.032zM9.12 5.248c-2.752 0-5.728 2.304-5.728 7.328 0 5.952 8.8 11.488 12.608 13.92 3.808-2.4 12.608-7.968 12.608-13.92 0-5.024-2.976-7.328-5.728-7.328-2.336 0-4.32 1.472-5.312 3.968-0.256 0.64-0.864 1.056-1.568 1.056s-1.312-0.416-1.568-1.056c-0.992-2.496-2.976-3.968-5.312-3.968z"}),Object(n["k"])("path",{d:"M6.816 20.704c0.384 0.288 0.512 0.704 0.48 1.12 0.224 0.256 0.384 0.608 0.384 0.96 0 0.032 0 0.032 0 0.064 0.16 0.128 0.32 0.256 0.48 0.384 0.128 0.064 0.256 0.16 0.384 0.256 0.096 0.064 0.192 0.16 0.256 0.224 0.8 0.576 1.632 1.12 2.496 1.664 0.416 0.128 0.8 0.256 1.056 0.32 1.984 0.576 4.064 0.8 6.112 0.928 2.688-1.92 5.312-3.904 8-5.792 0.896-1.088 1.92-2.080 2.912-3.104v-7.552c-0.096-0.128-0.192-0.288-0.32-0.416-0.768-1.024-1.184-2.176-1.6-3.296-0.768-0.416-1.536-0.8-2.336-1.12-0.128-0.064-0.256-0.096-0.384-0.16h-21.568v12.992c1.312 0.672 2.496 1.6 3.648 2.528z"})]),Object(n["k"])("symbol",{id:"icon-heart",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"icon-heart"),Object(n["k"])("path",{d:"M22.88 1.952c-2.72 0-5.184 1.28-6.88 3.456-1.696-2.176-4.16-3.456-6.88-3.456-4.48 0-9.024 3.648-9.024 10.592 0 7.232 7.776 12.704 15.072 17.248 0.256 0.16 0.544 0.256 0.832 0.256s0.576-0.096 0.832-0.256c7.296-4.544 15.072-10.016 15.072-17.248 0-6.944-4.544-10.592-9.024-10.592zM16 26.56c-4.864-3.072-12.736-8.288-12.736-14.016 0-5.088 3.040-7.424 5.824-7.424 2.368 0 4.384 1.504 5.408 4.032 0.256 0.608 0.832 0.992 1.472 0.992s1.248-0.384 1.472-0.992c1.024-2.528 3.040-4.032 5.408-4.032 2.816 0 5.824 2.304 5.824 7.424 0.064 5.728-7.808 10.976-12.672 14.016z"}),Object(n["k"])("path",{d:"M16 30.144c-0.32 0-0.64-0.096-0.896-0.256-7.296-4.576-15.104-10.048-15.104-17.344 0-7.008 4.576-10.688 9.12-10.688 2.656 0 5.152 1.216 6.88 3.392 1.728-2.144 4.224-3.392 6.88-3.392 4.544 0 9.12 3.68 9.12 10.688 0 7.296-7.808 12.768-15.104 17.344-0.256 0.16-0.576 0.256-0.896 0.256zM9.12 2.048c-4.448 0-8.928 3.616-8.928 10.496 0 7.168 7.744 12.64 15.008 17.152 0.48 0.288 1.12 0.288 1.568 0 7.264-4.544 15.008-9.984 15.008-17.152 0-6.88-4.48-10.496-8.928-10.496-2.656 0-5.088 1.216-6.816 3.392l-0.032 0.128-0.064-0.096c-1.696-2.176-4.192-3.424-6.816-3.424zM16 26.688l-0.064-0.032c-3.808-2.4-12.768-8.032-12.768-14.112 0-5.152 3.072-7.52 5.952-7.52 2.432 0 4.48 1.536 5.504 4.096 0.224 0.576 0.768 0.928 1.376 0.928s1.152-0.384 1.376-0.928c1.024-2.56 3.072-4.096 5.504-4.096 2.848 0 5.952 2.336 5.952 7.52 0 6.080-8.96 11.712-12.768 14.112l-0.064 0.032zM9.12 5.248c-2.752 0-5.728 2.304-5.728 7.328 0 5.952 8.8 11.488 12.608 13.92 3.808-2.4 12.608-7.968 12.608-13.92 0-5.024-2.976-7.328-5.728-7.328-2.336 0-4.32 1.472-5.312 3.968-0.256 0.64-0.864 1.056-1.568 1.056s-1.312-0.416-1.568-1.056c-0.992-2.496-2.976-3.968-5.312-3.968z"})]),Object(n["k"])("symbol",{id:"icon-infinity",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"icon-infinity"),Object(n["k"])("path",{d:"M29.312 20.832c-1.28 1.28-3.008 1.984-4.832 1.984s-3.52-0.704-4.832-1.984c-0.032-0.032-0.224-0.224-0.256-0.256v0 1.28c0 0.448-0.352 0.8-0.8 0.8s-0.8-0.352-0.8-0.8v-3.168c0-0.448 0.352-0.8 0.8-0.8h3.168c0.448 0 0.8 0.352 0.8 0.8s-0.352 0.8-0.8 0.8h-1.28c0.032 0.032 0.224 0.224 0.256 0.256 0.992 0.992 2.304 1.536 3.68 1.536 1.408 0 2.72-0.544 3.68-1.536 0.992-0.992 1.536-2.304 1.536-3.68s-0.544-2.72-1.536-3.68c-0.992-0.992-2.304-1.536-3.68-1.536-1.408 0-2.72 0.544-3.68 1.536l-8.416 8.448c-1.312 1.312-3.072 1.984-4.832 1.984s-3.488-0.672-4.832-1.984c-2.656-2.656-2.656-6.976 0-9.632s6.976-2.656 9.632 0c0.032 0.032 0.16 0.16 0.192 0.192l0.064 0.064v-1.28c0-0.448 0.352-0.8 0.8-0.8s0.8 0.352 0.8 0.8v3.168c0 0.448-0.352 0.8-0.8 0.8h-3.168c-0.448 0-0.8-0.352-0.8-0.8s0.352-0.8 0.8-0.8h1.28l-0.096-0.064c-0.032-0.032-0.16-0.16-0.192-0.192-0.992-0.992-2.304-1.536-3.68-1.536s-2.72 0.544-3.68 1.536c-2.048 2.048-2.048 5.344 0 7.392 0.992 0.992 2.304 1.536 3.68 1.536s2.72-0.544 3.68-1.536l8.512-8.512c1.28-1.28 3.008-1.984 4.832-1.984s3.52 0.704 4.832 1.984c2.624 2.656 2.624 7.008-0.032 9.664z"}),Object(n["k"])("path",{d:"M24.512 23.488c-1.6 0-3.136-0.512-4.416-1.44-0.128 0.704-0.736 1.248-1.44 1.248-0.8 0-1.472-0.672-1.472-1.472v-3.168c0-0.8 0.672-1.472 1.472-1.472h3.168c0.8 0 1.472 0.672 1.472 1.472 0 0.608-0.384 1.152-0.928 1.376 0.64 0.352 1.376 0.544 2.144 0.544 1.216 0 2.368-0.48 3.2-1.344 0.864-0.864 1.344-1.984 1.344-3.2s-0.48-2.368-1.344-3.2c-0.864-0.864-1.984-1.344-3.2-1.344s-2.368 0.48-3.2 1.344l-8.512 8.48c-1.408 1.408-3.296 2.176-5.312 2.176s-3.872-0.768-5.312-2.176c-2.912-2.912-2.912-7.68 0-10.592 1.408-1.408 3.296-2.176 5.312-2.176 0 0 0 0 0 0 1.6 0 3.136 0.512 4.416 1.44 0.128-0.704 0.736-1.248 1.472-1.248 0.8 0 1.472 0.672 1.472 1.472v3.168c0 0.8-0.672 1.472-1.472 1.472h-3.168c-0.8 0-1.472-0.672-1.472-1.472 0-0.608 0.384-1.152 0.928-1.376-0.64-0.352-1.376-0.544-2.144-0.544-1.216 0-2.368 0.48-3.2 1.344-1.76 1.76-1.76 4.64 0 6.432 0.864 0.864 2.016 1.344 3.2 1.344 1.216 0 2.368-0.48 3.2-1.344l8.48-8.544c1.408-1.408 3.296-2.208 5.312-2.208s3.872 0.768 5.312 2.208c1.408 1.408 2.176 3.296 2.176 5.312s-0.768 3.872-2.208 5.312v0c0 0 0 0 0 0-1.408 1.408-3.296 2.176-5.28 2.176zM18.752 18.912l1.44 1.44c1.152 1.152 2.688 1.792 4.32 1.792s3.168-0.64 4.32-1.792v0c1.152-1.152 1.792-2.688 1.792-4.32s-0.64-3.168-1.792-4.32c-1.152-1.152-2.688-1.792-4.352-1.792-1.632 0-3.168 0.64-4.32 1.792l-8.48 8.448c-1.12 1.12-2.592 1.728-4.16 1.728s-3.072-0.608-4.16-1.728c-2.304-2.304-2.304-6.048 0-8.352 1.12-1.12 2.592-1.728 4.16-1.728s3.072 0.608 4.16 1.728l1.44 1.408h-2.912c-0.064 0-0.128 0.064-0.128 0.128s0.064 0.128 0.128 0.128h3.168c0.064 0 0.128-0.064 0.128-0.128v-3.168c0-0.064-0.064-0.128-0.128-0.128s-0.128 0.064-0.128 0.128v2.912l-1.408-1.408c-1.152-1.152-2.688-1.792-4.352-1.792-1.632 0-3.168 0.64-4.32 1.792-2.4 2.4-2.4 6.272 0 8.672 1.152 1.152 2.688 1.792 4.32 1.792s3.168-0.64 4.32-1.792l8.512-8.512c1.12-1.12 2.592-1.728 4.16-1.728s3.072 0.608 4.16 1.728c1.12 1.12 1.728 2.592 1.728 4.16s-0.608 3.072-1.728 4.16c-1.12 1.12-2.592 1.728-4.16 1.728s-3.072-0.608-4.16-1.728l-1.408-1.408h2.912c0.064 0 0.128-0.064 0.128-0.128s-0.064-0.128-0.128-0.128h-3.168c-0.064 0-0.128 0.064-0.128 0.128v3.168c0 0.064 0.064 0.128 0.128 0.128s0.128-0.064 0.128-0.128v-2.88z"})]),Object(n["k"])("symbol",{id:"icon-pause",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"icon-pause"),Object(n["k"])("path",{d:"M16 0.32c-8.64 0-15.68 7.040-15.68 15.68s7.040 15.68 15.68 15.68 15.68-7.040 15.68-15.68-7.040-15.68-15.68-15.68zM16 29.216c-7.296 0-13.216-5.92-13.216-13.216s5.92-13.216 13.216-13.216 13.216 5.92 13.216 13.216-5.92 13.216-13.216 13.216z"}),Object(n["k"])("path",{d:"M16 32c-8.832 0-16-7.168-16-16s7.168-16 16-16 16 7.168 16 16-7.168 16-16 16zM16 0.672c-8.448 0-15.328 6.88-15.328 15.328s6.88 15.328 15.328 15.328c8.448 0 15.328-6.88 15.328-15.328s-6.88-15.328-15.328-15.328zM16 29.568c-7.488 0-13.568-6.080-13.568-13.568s6.080-13.568 13.568-13.568c7.488 0 13.568 6.080 13.568 13.568s-6.080 13.568-13.568 13.568zM16 3.104c-7.104 0-12.896 5.792-12.896 12.896s5.792 12.896 12.896 12.896c7.104 0 12.896-5.792 12.896-12.896s-5.792-12.896-12.896-12.896z"}),Object(n["k"])("path",{d:"M12.16 22.336v0c-0.896 0-1.6-0.704-1.6-1.6v-9.472c0-0.896 0.704-1.6 1.6-1.6v0c0.896 0 1.6 0.704 1.6 1.6v9.504c0 0.864-0.704 1.568-1.6 1.568z"}),Object(n["k"])("path",{d:"M19.84 22.336v0c-0.896 0-1.6-0.704-1.6-1.6v-9.472c0-0.896 0.704-1.6 1.6-1.6v0c0.896 0 1.6 0.704 1.6 1.6v9.504c0 0.864-0.704 1.568-1.6 1.568z"})]),Object(n["k"])("symbol",{id:"icon-play",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"icon-play"),Object(n["k"])("path",{d:"M21.216 15.168l-7.616-5.088c-0.672-0.416-1.504 0.032-1.504 0.832v10.176c0 0.8 0.896 1.248 1.504 0.832l7.616-5.088c0.576-0.416 0.576-1.248 0-1.664z"}),Object(n["k"])("path",{d:"M13.056 22.4c-0.224 0-0.416-0.064-0.608-0.16-0.448-0.224-0.704-0.672-0.704-1.152v-10.176c0-0.48 0.256-0.928 0.672-1.152s0.928-0.224 1.344 0.064l7.616 5.088c0.384 0.256 0.608 0.672 0.608 1.088s-0.224 0.864-0.608 1.088l-7.616 5.088c-0.192 0.16-0.448 0.224-0.704 0.224zM13.056 10.272c-0.096 0-0.224 0.032-0.32 0.064-0.224 0.128-0.352 0.32-0.352 0.576v10.176c0 0.256 0.128 0.48 0.352 0.576 0.224 0.128 0.448 0.096 0.64-0.032l7.616-5.088c0.192-0.128 0.288-0.32 0.288-0.544s-0.096-0.416-0.288-0.544l-7.584-5.088c-0.096-0.064-0.224-0.096-0.352-0.096z"}),Object(n["k"])("path",{d:"M16 0.32c-8.64 0-15.68 7.040-15.68 15.68s7.040 15.68 15.68 15.68 15.68-7.040 15.68-15.68-7.040-15.68-15.68-15.68zM16 29.216c-7.296 0-13.216-5.92-13.216-13.216s5.92-13.216 13.216-13.216 13.216 5.92 13.216 13.216-5.92 13.216-13.216 13.216z"}),Object(n["k"])("path",{d:"M16 32c-8.832 0-16-7.168-16-16s7.168-16 16-16 16 7.168 16 16-7.168 16-16 16zM16 0.672c-8.448 0-15.328 6.88-15.328 15.328s6.88 15.328 15.328 15.328c8.448 0 15.328-6.88 15.328-15.328s-6.88-15.328-15.328-15.328zM16 29.568c-7.488 0-13.568-6.080-13.568-13.568s6.080-13.568 13.568-13.568c7.488 0 13.568 6.080 13.568 13.568s-6.080 13.568-13.568 13.568zM16 3.104c-7.104 0-12.896 5.792-12.896 12.896s5.792 12.896 12.896 12.896c7.104 0 12.896-5.792 12.896-12.896s-5.792-12.896-12.896-12.896z"})]),Object(n["k"])("symbol",{id:"icon-link",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"link"),Object(n["k"])("path",{d:"M23.584 17.92c0 0.864 0 1.728 0 2.56 0 1.312 0 2.656 0 3.968 0 0.352 0.032 0.736-0.032 1.12 0.032-0.16 0.032-0.288 0.064-0.448-0.032 0.224-0.096 0.448-0.16 0.64 0.064-0.128 0.128-0.256 0.16-0.416-0.096 0.192-0.192 0.384-0.32 0.576 0.096-0.128 0.16-0.224 0.256-0.352-0.128 0.16-0.288 0.32-0.48 0.48 0.128-0.096 0.224-0.16 0.352-0.256-0.192 0.128-0.352 0.256-0.576 0.32 0.128-0.064 0.256-0.128 0.416-0.16-0.224 0.096-0.416 0.16-0.64 0.16 0.16-0.032 0.288-0.032 0.448-0.064-0.256 0.032-0.512 0.032-0.768 0.032-0.448 0-0.896 0-1.312 0-1.472 0-2.976 0-4.448 0-1.824 0-3.616 0-5.44 0-1.568 0-3.104 0-4.672 0-0.736 0-1.44 0-2.176 0-0.128 0-0.224 0-0.352-0.032 0.16 0.032 0.288 0.032 0.448 0.064-0.224-0.032-0.448-0.096-0.64-0.16 0.128 0.064 0.256 0.128 0.416 0.16-0.192-0.096-0.384-0.192-0.576-0.32 0.128 0.096 0.224 0.16 0.352 0.256-0.16-0.128-0.32-0.288-0.48-0.48 0.096 0.128 0.16 0.224 0.256 0.352-0.128-0.192-0.256-0.352-0.32-0.576 0.064 0.128 0.128 0.256 0.16 0.416-0.096-0.224-0.16-0.416-0.16-0.64 0.032 0.16 0.032 0.288 0.064 0.448-0.032-0.256-0.032-0.512-0.032-0.768 0-0.448 0-0.896 0-1.312 0-1.472 0-2.976 0-4.448 0-1.824 0-3.616 0-5.44 0-1.568 0-3.104 0-4.672 0-0.736 0-1.44 0-2.176 0-0.128 0-0.224 0.032-0.352-0.032 0.16-0.032 0.288-0.064 0.448 0.032-0.224 0.096-0.448 0.16-0.64-0.064 0.128-0.128 0.256-0.16 0.416 0.096-0.192 0.192-0.384 0.32-0.576-0.096 0.128-0.16 0.224-0.256 0.352 0.128-0.16 0.288-0.32 0.48-0.48-0.128 0.096-0.224 0.16-0.352 0.256 0.192-0.128 0.352-0.256 0.576-0.32-0.128 0.064-0.256 0.128-0.416 0.16 0.224-0.096 0.416-0.16 0.64-0.16-0.16 0.032-0.288 0.032-0.448 0.064 0.48-0.064 0.96-0.032 1.44-0.032 0.992 0 1.952 0 2.944 0 1.216 0 2.432 0 3.616 0 1.056 0 2.112 0 3.168 0 0.512 0 1.024 0 1.536 0 0 0 0 0 0.032 0 0.448 0 0.896-0.192 1.184-0.48s0.512-0.768 0.48-1.184c-0.032-0.448-0.16-0.896-0.48-1.184s-0.736-0.48-1.184-0.48c-0.64 0-1.28 0-1.92 0-1.408 0-2.816 0-4.224 0-1.44 0-2.848 0-4.256 0-0.672 0-1.344 0-2.016 0-0.736 0-1.472 0.192-2.112 0.576s-1.216 0.96-1.568 1.6c-0.384 0.64-0.544 1.376-0.544 2.144 0 0.672 0 1.376 0 2.048 0 1.28 0 2.56 0 3.84 0 1.504 0 3.040 0 4.544 0 1.408 0 2.848 0 4.256 0 0.992 0 1.952 0 2.944 0 0.224 0 0.448 0 0.64 0 0.864 0.224 1.76 0.768 2.464 0.16 0.192 0.288 0.384 0.48 0.576s0.384 0.352 0.608 0.512c0.32 0.224 0.64 0.384 1.024 0.512 0.448 0.16 0.928 0.224 1.408 0.224 0.16 0 0.32 0 0.48 0 0.896 0 1.792 0 2.72 0 1.376 0 2.784 0 4.16 0 1.536 0 3.040 0 4.576 0 1.312 0 2.656 0 3.968 0 0.768 0 1.536 0 2.336 0 0.416 0 0.832-0.032 1.248-0.128 1.504-0.32 2.784-1.6 3.104-3.104 0.128-0.544 0.128-1.056 0.128-1.568 0-0.608 0-1.184 0-1.792 0-1.408 0-2.816 0-4.224 0-0.256 0-0.512 0-0.768 0-0.448-0.192-0.896-0.48-1.184s-0.768-0.512-1.184-0.48c-0.448 0.032-0.896 0.16-1.184 0.48-0.384 0.384-0.576 0.768-0.576 1.248v0z"}),Object(n["k"])("path",{d:"M32 11.232c0-0.8 0-1.568 0-2.368 0-1.248 0-2.528 0-3.776 0-0.288 0-0.576 0-0.864 0-0.896-0.768-1.696-1.696-1.696-0.8 0-1.568 0-2.368 0-1.248 0-2.528 0-3.776 0-0.288 0-0.576 0-0.864 0-0.448 0-0.896 0.192-1.184 0.48s-0.512 0.768-0.48 1.184c0.032 0.448 0.16 0.896 0.48 1.184s0.736 0.48 1.184 0.48c0.8 0 1.568 0 2.368 0 1.248 0 2.528 0 3.776 0 0.288 0 0.576 0 0.864 0-0.576-0.576-1.12-1.12-1.696-1.696 0 0.8 0 1.568 0 2.368 0 1.248 0 2.528 0 3.776 0 0.288 0 0.576 0 0.864 0 0.448 0.192 0.896 0.48 1.184s0.768 0.512 1.184 0.48c0.448-0.032 0.896-0.16 1.184-0.48 0.352-0.256 0.544-0.64 0.544-1.12v0z"}),Object(n["k"])("path",{d:"M15.040 21.888c0.16-0.16 0.288-0.288 0.448-0.448 0.384-0.384 0.8-0.8 1.184-1.184 0.608-0.608 1.184-1.184 1.792-1.792 0.704-0.704 1.44-1.44 2.176-2.176 0.8-0.8 1.568-1.568 2.368-2.368s1.6-1.6 2.4-2.4c0.736-0.736 1.504-1.504 2.24-2.24 0.64-0.64 1.248-1.248 1.888-1.888 0.448-0.448 0.896-0.896 1.344-1.344 0.224-0.224 0.448-0.416 0.64-0.64 0 0 0.032-0.032 0.032-0.032 0.32-0.32 0.48-0.768 0.48-1.184s-0.192-0.896-0.48-1.184c-0.32-0.288-0.736-0.512-1.184-0.48-0.512 0.032-0.928 0.16-1.248 0.48-0.16 0.16-0.288 0.288-0.448 0.448-0.384 0.384-0.8 0.8-1.184 1.184-0.608 0.608-1.184 1.184-1.792 1.792-0.704 0.704-1.44 1.44-2.176 2.176-0.8 0.8-1.568 1.568-2.368 2.368s-1.6 1.6-2.4 2.4c-0.736 0.736-1.504 1.504-2.24 2.24-0.64 0.64-1.248 1.248-1.888 1.888-0.448 0.448-0.896 0.896-1.344 1.344-0.224 0.224-0.448 0.416-0.64 0.64 0 0-0.032 0.032-0.032 0.032-0.32 0.32-0.48 0.768-0.48 1.184s0.192 0.896 0.48 1.184c0.32 0.288 0.736 0.512 1.184 0.48 0.48 0 0.928-0.16 1.248-0.48v0z"})]),Object(n["k"])("symbol",{id:"icon-next",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"next"),Object(n["k"])("path",{d:"M2.304 18.304h14.688l-4.608 4.576c-0.864 0.864-0.864 2.336 0 3.232 0.864 0.864 2.336 0.864 3.232 0l8.448-8.48c0.864-0.864 0.864-2.336 0-3.232l-8.448-8.448c-0.448-0.448-1.056-0.672-1.632-0.672s-1.184 0.224-1.632 0.672c-0.864 0.864-0.864 2.336 0 3.232l4.64 4.576h-14.688c-1.248 0-2.304 0.992-2.304 2.272s1.024 2.272 2.304 2.272z"}),Object(n["k"])("path",{d:"M29.696 26.752c1.248 0 2.304-1.024 2.304-2.304v-16.928c0-1.248-1.024-2.304-2.304-2.304s-2.304 1.024-2.304 2.304v16.928c0.064 1.28 1.056 2.304 2.304 2.304z"})]),Object(n["k"])("symbol",{id:"icon-prev",viewBox:"0 0 32 32"},[Object(n["k"])("title",null,"prev"),Object(n["k"])("path",{d:"M29.696 13.696h-14.688l4.576-4.576c0.864-0.864 0.864-2.336 0-3.232-0.864-0.864-2.336-0.864-3.232 0l-8.448 8.48c-0.864 0.864-0.864 2.336 0 3.232l8.448 8.448c0.448 0.448 1.056 0.672 1.632 0.672s1.184-0.224 1.632-0.672c0.864-0.864 0.864-2.336 0-3.232l-4.608-4.576h14.688c1.248 0 2.304-1.024 2.304-2.304s-1.024-2.24-2.304-2.24z"}),Object(n["k"])("path",{d:"M2.304 5.248c-1.248 0-2.304 1.024-2.304 2.304v16.928c0 1.248 1.024 2.304 2.304 2.304s2.304-1.024 2.304-2.304v-16.928c-0.064-1.28-1.056-2.304-2.304-2.304z"})])])],-1);function Ct(t,e){return Object(n["s"])(),Object(n["g"])(n["c"],null,[Object(n["k"])("div",vt,[Object(n["k"])("div",pt,[Object(n["k"])("div",ft,[Object(n["k"])("div",gt,[Object(n["k"])(dt["a"],{name:"scale-out"},{default:Object(n["F"])((function(){return[(Object(n["s"])(!0),Object(n["g"])(n["c"],null,Object(n["w"])(t.tracks,(function(e,i){return Object(n["G"])((Object(n["s"])(),Object(n["g"])("div",{key:e.name,class:"player-cover__item",style:{backgroundImage:"url(".concat(e.cover,")")}},null,4)),[[dt["c"],i===t.currentTrackIndex]])})),128))]})),_:1})]),Object(n["k"])("div",yt,[Object(n["k"])("div",{id:"prev",class:"player-controls__item",onClick:e[1]||(e[1]=function(e){return t.prevTrack(e)})},[mt]),Object(n["k"])("div",{id:"next",class:"player-controls__item",onClick:e[2]||(e[2]=function(e){return t.nextTrack(e)})},[bt]),Object(n["k"])("div",{id:"play",class:"player-controls__item -xl js-play",onClick:e[3]||(e[3]=function(e){return t.play()})},[(Object(n["s"])(),Object(n["g"])("svg",wt,[t.isTimerPlaying?(Object(n["s"])(),Object(n["g"])("use",xt)):(Object(n["s"])(),Object(n["g"])("use",Pt))]))])])]),Object(n["k"])("div",kt,[Object(n["k"])("div",_t,[Object(n["k"])("div",Ot,Object(n["B"])(t.currentTime()),1),Object(n["k"])("div",Rt,Object(n["B"])(t.duration()),1)]),Object(n["k"])("div",{class:"progress__bar",onClick:e[4]||(e[4]=function(e){return t.clickProgress(e)})},[Object(n["k"])("div",{class:"progress__current",style:{width:t.barWidth}},null,4)])])])]),Et],64)}i("99af");var St=i("a1e9"),At=Object(n["l"])({props:{tracks:{type:Array,required:!0}},setup:function(t,e){var i=e.emit,a=Object(St["h"])(),r=Object(St["h"])("0"),o=Object(St["h"])(!1),s=Object(St["h"])(),c=Object(St["h"])(0),h=function(){r.value="0",a.value.currentTime=0,a.value.src=s.value.source,i("on-reset"),setTimeout((function(){o.value?a.value.play():a.value.pause()}),300)},l=function(){var t=100/a.value.duration*a.value.currentTime;r.value=t+"%"},u=function(){c.value<t.tracks.length-1?c.value++:c.value=0,s.value=t.tracks[c.value],h()},d=function(){c.value>0?c.value--:c.value=t.tracks.length-1,s.value=t.tracks[c.value],h()},v=function(){var t,e,i;(a.value.volume=.1,null===(t=a.value)||void 0===t?void 0:t.paused)?(null===(e=a.value)||void 0===e||e.play(),o.value=!0):(null===(i=a.value)||void 0===i||i.pause(),o.value=!1)},p=function(t){var e=document.querySelector(".progress"),i=a.value.duration,n=t-e.offsetLeft,o=100*n/e.offsetWidth;o>100&&(o=100),o<0&&(o=0),r.value="".concat(o,"%"),a.value.currentTime=i*o/100,a.value.play()},f=function(t){var e;o.value=!0,null===(e=a.value)||void 0===e||e.pause(),p(t.pageX)},g=function(t){return t<10?"0".concat(t):"".concat(t)},y=function(){var t,e,i=Math.floor(((null===(t=a.value)||void 0===t?void 0:t.duration)||0)/60),n=Math.floor(((null===(e=a.value)||void 0===e?void 0:e.duration)||0)-60*i);return"".concat(g(i),":").concat(g(n))},m=function(){var t,e,i=Math.floor(((null===(t=a.value)||void 0===t?void 0:t.currentTime)||0)/60),n=Math.floor(((null===(e=a.value)||void 0===e?void 0:e.currentTime)||0)-60*i);return"".concat(g(i),":").concat(g(n))};return Object(n["q"])((function(){s.value=t.tracks[0],a.value=new Audio,a.value.src=s.value.source,a.value.ontimeupdate=function(){return l()},a.value.onloadedmetadata=function(){return l()},a.value.onended=function(){u(),o.value=!0}})),{currentTrackIndex:c,isTimerPlaying:o,barWidth:r,play:v,nextTrack:u,prevTrack:d,currentTime:m,duration:y,clickProgress:f}}});i("1973");At.render=Ct;var Tt=At,It={components:{ParticlesBg:ht,PauPlayer:Tt},data:function(){return{particles:0,tracks:[{color:"#dedede",name:"Next To You",artist:"Ken Arai",cover:"/img/covers/1.jpg",source:"https://raw.githubusercontent.com/amaury-tobias/pau/master/public/songs/NextToYou.mp3",bg:"/img/f1.png"},{color:"#fcc277",name:"Everybody Knows",artist:"Leonard Cohen",cover:"/img/covers/2.jpg",source:"https://raw.githubusercontent.com/amaury-tobias/pau/master/public/songs/AURORA-IWentTooFar.mp3",bg:"/img/f2.png"},{name:"Extreme Ways",artist:"Moby",cover:"/img/covers/3.jpg",source:"/songs/NextToYou.mp3",bg:"/img/f5.png"},{color:"#0000ff",name:"Butterflies",artist:"Sia",cover:"/img/covers/4.jpg",source:"/songs/NextToYou.mp3"},{color:"#0000ff",name:"The Final Victory",artist:"Haggard",cover:"/img/covers/5.jpg",source:"/songs/NextToYou.mp3"},{color:"#0000ff",name:"Genius ft. Sia, Diplo, Labrinth",artist:"LSD",cover:"/img/covers/6.jpg",source:"/songs/NextToYou.mp3"},{color:"#0000ff",name:"The Comeback Kid",artist:"Lindi Ortega",cover:"/img/covers/7.jpg",source:"/songs/NextToYou.mp3"},{color:"#0000ff",name:"Overdose",artist:"Grandson",cover:"/img/covers/8.jpg",source:"/songs/NextToYou.mp3"},{color:"#0000ff",name:"Rag'n'Bone Man",artist:"Human",cover:"/img/covers/9.jpg",source:"/songs/NextToYou.mp3"}]}}};i("3385");It.render=r;e["default"]=It},5319:function(t,e,i){"use strict";var n=i("d784"),a=i("825a"),r=i("7b0b"),o=i("50c4"),s=i("a691"),c=i("1d80"),h=i("8aa5"),l=i("14c3"),u=Math.max,d=Math.min,v=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,i,n){var y=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,b=y?"$":"$0";return[function(i,n){var a=c(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,a,n):e.call(String(a),i,n)},function(t,n){if(!y&&m||"string"===typeof n&&-1===n.indexOf(b)){var r=i(e,t,this,n);if(r.done)return r.value}var c=a(t),v=String(this),p="function"===typeof n;p||(n=String(n));var f=c.global;if(f){var x=c.unicode;c.lastIndex=0}var P=[];while(1){var k=l(c,v);if(null===k)break;if(P.push(k),!f)break;var _=String(k[0]);""===_&&(c.lastIndex=h(v,o(c.lastIndex),x))}for(var O="",R=0,E=0;E<P.length;E++){k=P[E];for(var C=String(k[0]),S=u(d(s(k.index),v.length),0),A=[],T=1;T<k.length;T++)A.push(g(k[T]));var I=k.groups;if(p){var M=[C].concat(A,S,v);void 0!==I&&M.push(I);var B=String(n.apply(void 0,M))}else B=w(C,v,S,A,I,n);S>=R&&(O+=v.slice(R,S)+B,R=S+C.length)}return O+v.slice(R)}];function w(t,i,n,a,o,s){var c=n+t.length,h=a.length,l=f;return void 0!==o&&(o=r(o),l=p),e.call(s,l,(function(e,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(c);case"<":s=o[r.slice(1,-1)];break;default:var l=+r;if(0===l)return e;if(l>h){var u=v(l/10);return 0===u?e:u<=h?void 0===a[u-1]?r.charAt(1):a[u-1]+r.charAt(1):e}s=a[l-1]}return void 0===s?"":s}))}}))},6547:function(t,e,i){var n=i("a691"),a=i("1d80"),r=function(t){return function(e,i){var r,o,s=String(a(e)),c=n(i),h=s.length;return c<0||c>=h?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===h||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):r:t?s.slice(c,c+2):o-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}},"65f0":function(t,e,i){var n=i("861d"),a=i("e8b5"),r=i("b622"),o=r("species");t.exports=function(t,e){var i;return a(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?n(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"746f":function(t,e,i){var n=i("428f"),a=i("5135"),r=i("e538"),o=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});a(e,t)||o(e,t,{value:r.f(t)})}},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),a=i("23cb"),r=i("50c4");t.exports=function(t){var e=n(this),i=r(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,i),c=o>2?arguments[2]:void 0,h=void 0===c?i:a(c,i);while(h>s)e[s++]=t;return e}},8418:function(t,e,i){"use strict";var n=i("c04e"),a=i("9bf2"),r=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?a.f(t,o,r(0,i)):t[o]=i}},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},9263:function(t,e,i){"use strict";var n=i("ad6d"),a=i("9f7f"),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),h=a.UNSUPPORTED_Y||a.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],u=c||l||h;u&&(s=function(t){var e,i,a,s,u=this,d=h&&u.sticky,v=n.call(u),p=u.source,f=0,g=t;return d&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),g=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,f++),i=new RegExp("^(?:"+p+")",v)),l&&(i=new RegExp("^"+p+"$(?!\\s)",v)),c&&(e=u.lastIndex),a=r.call(d?i:u,g),d?a?(a.input=a.input.slice(f),a[0]=a[0].slice(f),a.index=u.lastIndex,u.lastIndex+=a[0].length):u.lastIndex=0:c&&a&&(u.lastIndex=u.global?a.index+a[0].length:e),l&&a&&a.length>1&&o.call(a[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a}),t.exports=s},"99af":function(t,e,i){"use strict";var n=i("23e7"),a=i("d039"),r=i("e8b5"),o=i("861d"),s=i("7b0b"),c=i("50c4"),h=i("8418"),l=i("65f0"),u=i("1dde"),d=i("b622"),v=i("2d00"),p=d("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",y=v>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=u("concat"),b=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},w=!y||!m;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,i,n,a,r,o=s(this),u=l(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],b(r)){if(a=c(r.length),d+a>f)throw TypeError(g);for(i=0;i<a;i++,d++)i in r&&h(u,d,r[i])}else{if(d>=f)throw TypeError(g);h(u,d++,r)}return u.length=d,u}})},"9c15":function(t,e,i){},"9f7f":function(t,e,i){"use strict";var n=i("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a4d3:function(t,e,i){"use strict";var n=i("23e7"),a=i("da84"),r=i("d066"),o=i("c430"),s=i("83ab"),c=i("4930"),h=i("fdbf"),l=i("d039"),u=i("5135"),d=i("e8b5"),v=i("861d"),p=i("825a"),f=i("7b0b"),g=i("fc6a"),y=i("c04e"),m=i("5c6c"),b=i("7c73"),w=i("df75"),x=i("241c"),P=i("057f"),k=i("7418"),_=i("06cf"),O=i("9bf2"),R=i("d1e7"),E=i("9112"),C=i("6eeb"),S=i("5692"),A=i("f772"),T=i("d012"),I=i("90e3"),M=i("b622"),B=i("e538"),j=i("746f"),z=i("d44e"),D=i("69f3"),V=i("b727").forEach,L=A("hidden"),F="Symbol",U="prototype",N=M("toPrimitive"),Z=D.set,H=D.getterFor(F),G=Object[U],q=a.Symbol,Y=r("JSON","stringify"),X=_.f,$=O.f,W=P.f,K=R.f,Q=S("symbols"),J=S("op-symbols"),tt=S("string-to-symbol-registry"),et=S("symbol-to-string-registry"),it=S("wks"),nt=a.QObject,at=!nt||!nt[U]||!nt[U].findChild,rt=s&&l((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=X(G,e);n&&delete G[e],$(t,e,i),n&&t!==G&&$(G,e,n)}:$,ot=function(t,e){var i=Q[t]=b(q[U]);return Z(i,{type:F,tag:t,description:e}),s||(i.description=e),i},st=h?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},ct=function(t,e,i){t===G&&ct(J,e,i),p(t);var n=y(e,!0);return p(i),u(Q,n)?(i.enumerable?(u(t,L)&&t[L][n]&&(t[L][n]=!1),i=b(i,{enumerable:m(0,!1)})):(u(t,L)||$(t,L,m(1,{})),t[L][n]=!0),rt(t,n,i)):$(t,n,i)},ht=function(t,e){p(t);var i=g(e),n=w(i).concat(pt(i));return V(n,(function(e){s&&!ut.call(i,e)||ct(t,e,i[e])})),t},lt=function(t,e){return void 0===e?b(t):ht(b(t),e)},ut=function(t){var e=y(t,!0),i=K.call(this,e);return!(this===G&&u(Q,e)&&!u(J,e))&&(!(i||!u(this,e)||!u(Q,e)||u(this,L)&&this[L][e])||i)},dt=function(t,e){var i=g(t),n=y(e,!0);if(i!==G||!u(Q,n)||u(J,n)){var a=X(i,n);return!a||!u(Q,n)||u(i,L)&&i[L][n]||(a.enumerable=!0),a}},vt=function(t){var e=W(g(t)),i=[];return V(e,(function(t){u(Q,t)||u(T,t)||i.push(t)})),i},pt=function(t){var e=t===G,i=W(e?J:g(t)),n=[];return V(i,(function(t){!u(Q,t)||e&&!u(G,t)||n.push(Q[t])})),n};if(c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),i=function(t){this===G&&i.call(J,t),u(this,L)&&u(this[L],e)&&(this[L][e]=!1),rt(this,e,m(1,t))};return s&&at&&rt(G,e,{configurable:!0,set:i}),ot(e,t)},C(q[U],"toString",(function(){return H(this).tag})),C(q,"withoutSetter",(function(t){return ot(I(t),t)})),R.f=ut,O.f=ct,_.f=dt,x.f=P.f=vt,k.f=pt,B.f=function(t){return ot(M(t),t)},s&&($(q[U],"description",{configurable:!0,get:function(){return H(this).description}}),o||C(G,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),V(w(it),(function(t){j(t)})),n({target:F,stat:!0,forced:!c},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var i=q(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:lt,defineProperty:ct,defineProperties:ht,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:vt,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:l((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(f(t))}}),Y){var ft=!c||l((function(){var t=q();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));n({target:"JSON",stat:!0,forced:ft},{stringify:function(t,e,i){var n,a=[t],r=1;while(arguments.length>r)a.push(arguments[r++]);if(n=e,(v(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),a[1]=e,Y.apply(null,a)}})}q[U][N]||E(q[U],N,q[U].valueOf),z(q,F),T[L]=!0},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,i){"use strict";var n=i("23e7"),a=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ac4e:function(t,e,i){},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,i){var n=i("83ab"),a=i("d039"),r=i("5135"),o=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(r(s,t))return s[t];e||(e={});var i=[][t],h=!!r(e,"ACCESSORS")&&e.ACCESSORS,l=r(e,0)?e[0]:c,u=r(e,1)?e[1]:void 0;return s[t]=!!i&&!a((function(){if(h&&!n)return!0;var t={length:-1};h?o(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,l,u)}))}},b0c0:function(t,e,i){var n=i("83ab"),a=i("9bf2").f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in r)&&a(r,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b4e7:function(t,e,i){
/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/
!function(e,i){t.exports=i()}(0,(function(){"use strict";return function(){for(var t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,i={callback:t,fps:e,n:60/e,param:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i:0};return this.animations.push(i),this.animations.length>=1&&this.start(),this},getIndex:function(t){for(var e=0;e<this.animations.length;e++)if(this.animations[e].callback===t)return e;return-1},remove:function(t){if(!(this.getIndex(t)<0))return this.deleteMap(t),0===this.animations.length&&this.stop(),this},deleteMap:function(t){var e=this.getIndex(t),i=this.animations[e];for(var n in i)delete i[n];this.animations.splice(e,1)},start:function(){if("start"!==this.state)return this.state="start",this.tick(),this},stop:function(){if("stop"!==this.state)return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var t=this;this.timer=requestAnimationFrame((function(){t.tick()}));for(var e=0;e<this.animations.length;e++){var i=this.animations[e],n=i.callback,a=i.param;i.i++,i.i>=i.n&&(n(a),i.i=0)}}}}))},b727:function(t,e,i){var n=i("0366"),a=i("44ad"),r=i("7b0b"),o=i("50c4"),s=i("65f0"),c=[].push,h=function(t){var e=1==t,i=2==t,h=3==t,l=4==t,u=6==t,d=5==t||u;return function(v,p,f,g){for(var y,m,b=r(v),w=a(b),x=n(p,f,3),P=o(w.length),k=0,_=g||s,O=e?_(v,P):i?_(v,0):void 0;P>k;k++)if((d||k in w)&&(y=w[k],m=x(y,k,b),t))if(e)O[k]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return k;case 2:c.call(O,y)}else if(l)return!1;return u?-1:h||l?l:O}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c975:function(t,e,i){"use strict";var n=i("23e7"),a=i("4d64").indexOf,r=i("a640"),o=i("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,h=r("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!h||!l},{indexOf:function(t){return c?s.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},cb29:function(t,e,i){var n=i("23e7"),a=i("81d5"),r=i("44d2");n({target:"Array",proto:!0},{fill:a}),r("fill")},d1cb:function(t,e,i){
/*!
* Proton v4.1.5
* https://github.com/drawcall/Proton
*
* Copyright 2013-2019, A-JIE
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/
!function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e=3.1415926,i={PI:e,PIx2:2*e,PI_2:e/2,PI_180:e/180,N180_PI:180/e,Infinity:-999,isInfinity:function(t){return t===this.Infinity||t===1/0},randomAToB:function(t,e,i){return 2<arguments.length&&void 0!==i&&i?Math.floor(Math.random()*(e-t))+t:t+Math.random()*(e-t)},randomFloating:function(t,e,i){return this.randomAToB(t-e,t+e,i)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(t,e){var i=1<arguments.length&&void 0!==e?e:4,n=Math.pow(10,i);return Math.floor(t*n)/n},degreeTransform:function(t){return t*e/180},toColor16:function(t){return"#"+t.toString(16)}},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t};function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var a=Object.getPrototypeOf(t);return null===a?void 0:o(a,e,i)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(i):void 0}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var h=(a(l,[{key:"getValue",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return this.isArray?k.getRandFromArray(this.a):this.center?i.randomFloating(this.a,this.b,e):i.randomAToB(this.a,this.b,e)}}],[{key:"setSpanValue",value:function(t,e,i){return t instanceof l?t:void 0===e?new l(t):void 0===i?new l(t,e):new l(t,e,i)}},{key:"getSpanValue",value:function(t){return t instanceof l?t.getValue():t}}]),l);function l(e,i,n){t(this,l),k.isArray(e)?(this.isArray=!0,this.a=e):(this.isArray=!1,this.a=k.initValue(e,1),this.b=k.initValue(i,this.a),this.center=k.initValue(n,!1))}var u=function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},d=function(t,e){return[1,0,0,0,1,0,t,e,1]},v=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,-i,0,i,e,0,0,0,1]},p=function(t,e){return[t,0,0,0,e,0,0,0,1]},f=function(t,e){var i=t[0],n=t[1],a=t[2],r=t[3],o=t[4],s=t[5],c=t[6],h=t[7],l=t[8],u=e[0],d=e[1],v=e[2],p=e[3],f=e[4],g=e[5],y=e[6],m=e[7],b=e[8];return[i*u+n*p+a*y,i*d+n*f+a*m,i*v+n*g+a*b,r*u+o*p+s*y,r*d+o*f+s*m,r*v+o*g+s*b,c*u+h*p+l*y,c*d+h*f+l*m,c*v+h*g+l*b]},g={createCanvas:function(t,e,i,n){var a=3<arguments.length&&void 0!==n?n:"absolute",r=document.createElement("canvas");return r.id=t,r.width=e,r.height=i,r.style.opacity=0,r.style.position=a,this.transform(r,-500,-500,0,0),r},createDiv:function(t,e,i){var n=document.createElement("div");return n.id=t,n.style.position="absolute",this.resize(n,e,i),n},resize:function(t,e,i){t.style.width=e+"px",t.style.height=i+"px",t.style.marginLeft=-e/2+"px",t.style.marginTop=-i/2+"px"},transform:function(t,e,i,n,a){t.style.willChange="transform";var r="translate("+e+"px, "+i+"px) scale("+n+") rotate("+a+"deg)";this.css3(t,"transform",r)},transform3d:function(t,e,i,n,a){t.style.willChange="transform";var r="translate3d("+e+"px, "+i+"px, 0) scale("+n+") rotate("+a+"deg)";this.css3(t,"backfaceVisibility","hidden"),this.css3(t,"transform",r)},css3:function(t,e,i){var n=e.charAt(0).toUpperCase()+e.substr(1);t.style["Webkit"+n]=i,t.style["Moz"+n]=i,t.style["O"+n]=i,t.style["ms"+n]=i,t.style[""+e]=i}},y={},m={},b=0,w=function(t,e,i){t.drawImage(e,i.x,i.y);var n=t.getImageData(i.x,i.y,i.width,i.height);return t.clearRect(i.x,i.y,i.width,i.height),n},x=function(t,e,i){var n="string"==typeof t?t:t.src;if(y[n])e(y[n],i);else{var a=new Image;a.onload=function(t){y[n]=t.target,e(y[n],i)},a.src=n}},P=function(t,e,i){var n=t.src;if(!m[n]){var a=u(t.width),r=u(t.height),o=g.createCanvas("proton_canvas_cache_"+ ++b,a,r);o.getContext("2d").drawImage(t,0,0,t.width,t.height),m[n]=o}return e&&e(m[n],i),m[n]},k={initValue:function(t,e){return null!=t?t:e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyArray:function(t){t&&(t.length=0)},toArray:function(t){return this.isArray(t)?t:[t]},getRandFromArray:function(t){return t?t[Math.floor(t.length*Math.random())]:null},emptyObject:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;for(var n in t)i&&-1<i.indexOf(n)||delete t[n]},classApply:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;return i?new(t.bind.apply(t,[null].concat(i))):new t},setVectorVal:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;i&&(this.hasProp(i,"x")&&(t.p.x=i.x),this.hasProp(i,"y")&&(t.p.y=i.y),this.hasProp(i,"vx")&&(t.v.x=i.vx),this.hasProp(i,"vy")&&(t.v.y=i.vy),this.hasProp(i,"ax")&&(t.a.x=i.ax),this.hasProp(i,"ay")&&(t.a.y=i.ay),this.hasProp(i,"p")&&t.p.copy(i.p),this.hasProp(i,"v")&&t.v.copy(i.v),this.hasProp(i,"a")&&t.a.copy(i.a),this.hasProp(i,"position")&&t.p.copy(i.position),this.hasProp(i,"velocity")&&t.v.copy(i.velocity),this.hasProp(i,"accelerate")&&t.a.copy(i.accelerate))},hasProp:function(t,e){return!!t&&void 0!==t[e]},setProp:function(t,e){for(var i in e)t.hasOwnProperty(i)&&(t[i]=h.getSpanValue(e[i]));return t},getImageData:function(t,e,i){return w(t,e,i)},destroyAll:function(t,e){for(var i=1<arguments.length&&void 0!==e?e:null,n=t.length;n--;){try{t[n].destroy(i)}catch(t){}delete t[n]}t.length=0},assign:function(t,e){if("function"==typeof Object.assign)return Object.assign(t,e);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},_={},O={_index:0,_cache:{},id:function(t){return void 0!==_[t]&&null!==_[t]||(_[t]=0),t+"_"+_[t]++},getId:function(t){var e=this.getIdFromCache(t);return e||(e="PUID_"+this._index++,this._cache[e]=t,e)},getIdFromCache:function(t){var e=void 0,i=void 0;for(i in this._cache){if((e=this._cache[i])===t)return i;if(this.isBody(e,t)&&e.src===t.src)return i}return null},isBody:function(t,e){return"object"===(void 0===t?"undefined":n(t))&&"object"===(void 0===e?"undefined":n(e))&&t.isInner&&e.isInner},getTarget:function(t){return this._cache[t]}},R=(a(E,[{key:"get",value:function(t,e,i){var n=void 0;return i=i||t.__puid||O.getId(t),(n=this.cache[i]&&0<this.cache[i].length?this.cache[i].pop():this.createOrClone(t,e)).__puid=t.__puid||i,n}},{key:"expire",value:function(t){return this.getCache(t.__puid).push(t)}},{key:"createOrClone",value:function(t,e){return this.total++,this.create?this.create(t,e):"function"==typeof t?k.classApply(t,e):t.clone()}},{key:"getCount",value:function(){var t=0;for(var e in this.cache)t+=this.cache[e].length;return t++}},{key:"destroy",value:function(){for(var t in this.cache)this.cache[t].length=0,delete this.cache[t]}},{key:"getCache",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return this.cache[e]||(this.cache[e]=[]),this.cache[e]}}]),E);function E(e){t(this,E),this.total=0,this.cache={}}var C=(a(S,[{key:"update",value:function(t,e){this.add(t,e);var i=this.getEmitter(),n=this.getRenderer(),a="";switch(this.type){case 2:a+="emitter:"+this.proton.emitters.length+"<br>",i&&(a+="em speed:"+i.emitSpeed+"<br>"),i&&(a+="pos:"+this.getEmitterPos(i));break;case 3:i&&(a+="initializes:"+i.initializes.length+"<br>"),i&&(a+='<span style="display:inline-block;">'+this.concatArr(i.initializes)+"</span><br>"),i&&(a+="behaviours:"+i.behaviours.length+"<br>"),i&&(a+='<span style="display:inline-block;">'+this.concatArr(i.behaviours)+"</span><br>");break;case 4:n&&(a+=n.name+"<br>"),n&&(a+="body:"+this.getCreatedNumber(n)+"<br>");break;default:a+="particles:"+this.proton.getCount()+"<br>",a+="pool:"+this.proton.pool.getCount()+"<br>",a+="total:"+this.proton.pool.total}this.container.innerHTML=a}},{key:"add",value:function(t,e){var i=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",(function(t){i.type++,4<i.type&&(i.type=1)}),!1);var n=void 0,a=void 0;switch(t){case 2:n="#201",a="#f08";break;case 3:n="#020",a="#0f0";break;default:n="#002",a="#0ff"}this.container.style["background-color"]=n,this.container.style.color=a}this.container.parentNode||(e=e||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(t){var e="";if(!t||!t.length)return e;for(var i=0;i<t.length;i++)e+=(t[i].name||"").substr(0,1)+".";return e}},{key:"getCreatedNumber",value:function(t){return t.pool.total||t.cpool&&t.cpool.total||0}},{key:"getEmitterPos",value:function(t){return Math.round(t.p.x)+","+Math.round(t.p.y)}}]),S);function S(e){t(this,S),this.proton=e,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var A=(a(T,[{key:"addEventListener",value:function(t,e){return this._listeners?this.removeEventListener(t,e):this._listeners={},this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),e}},{key:"removeEventListener",value:function(t,e){if(this._listeners&&this._listeners[t])for(var i=this._listeners[t],n=i.length,a=0;a<n;a++)if(i[a]===e){1===n?delete this._listeners[t]:i.splice(a,1);break}}},{key:"removeAllEventListeners",value:function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null}},{key:"dispatchEvent",value:function(t,e){var i=!1,n=this._listeners;if(t&&n){var a=n[t];if(!a)return i;for(var r=void 0,o=a.length;o--;)r=a[o],i=i||r(e)}return!!i}},{key:"hasEventListener",value:function(t){var e=this._listeners;return!(!e||!e[t])}}],[{key:"bind",value:function(t){t.prototype.dispatchEvent=T.prototype.dispatchEvent,t.prototype.hasEventListener=T.prototype.hasEventListener,t.prototype.addEventListener=T.prototype.addEventListener,t.prototype.removeEventListener=T.prototype.removeEventListener,t.prototype.removeAllEventListeners=T.prototype.removeAllEventListeners}}]),T);function T(){t(this,T),this._listeners=null}var I=(a(M,[{key:"calculate",value:function(t,e,i){this.eulerIntegrate(t,e,i)}},{key:"eulerIntegrate",value:function(t,e,i){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),i&&t.v.multiplyScalar(i),t.a.clear())}}]),M);function M(e){t(this,M),this.type=e}var B=(a(j,[{key:"addRenderer",value:function(t){t.init(this),this.renderers.push(t)}},{key:"removeRenderer",value:function(t){var e=this.renderers.indexOf(t);this.renderers.splice(e,1),t.remove(this)}},{key:"addEmitter",value:function(t){this.emitters.push(t),(t.parent=this).dispatchEvent(j.EMITTER_ADDED,t)}},{key:"removeEmitter",value:function(t){var e=this.emitters.indexOf(t);this.emitters.splice(e,1),t.parent=null,this.dispatchEvent(j.EMITTER_REMOVED,t)}},{key:"update",value:function(){"auto"===this._fps?(this.dispatchEvent(j.PROTON_UPDATE),j.USE_CLOCK?(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(j.DEFAULT_INTERVAL),this.dispatchEvent(j.PROTON_UPDATE_AFTER)):(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(j.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(j.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(t){for(var e=this.emitters.length;e--;)this.emitters[e].update(t)}},{key:"amendChangeTabsBug",value:function(){j.amendChangeTabsBug&&.5<this.elapsed&&(this.then=(new Date).getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var t=0,e=this.emitters.length;e--;)t+=this.emitters[e].particles.length;return t}},{key:"getAllParticles",value:function(){for(var t=[],e=this.emitters.length;e--;)t=t.concat(this.emitters[e].particles);return t}},{key:"destroyAllEmitters",value:function(){k.destroyAll(this.emitters)}},{key:"destroy",value:function(t){function e(){i.time=0,i.then=0,i.pool.destroy(),k.destroyAll(i.emitters),k.destroyAll(i.renderers,i.getAllParticles())}var i=this;0<arguments.length&&void 0!==t&&t?setTimeout(e,200):e()}},{key:"fps",set:function(t){this._fps=t,this._interval="auto"===t?j.DEFAULT_INTERVAL:i.floor(1/t,7)},get:function(){return this._fps}}]),j);function j(e){t(this,j),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new C(this),this.pool=new R(80),this.integrationType=k.initValue(e,j.EULER),this.integrator=new I(this.integrationType),this._fps="auto",this._interval=j.DEFAULT_INTERVAL}B.USE_CLOCK=!1,B.MEASURE=100,B.EULER="euler",B.RK2="runge-kutta2",B.PARTICLE_CREATED="PARTICLE_CREATED",B.PARTICLE_UPDATE="PARTICLE_UPDATE",B.PARTICLE_SLEEP="PARTICLE_SLEEP",B.PARTICLE_DEAD="PARTICLE_DEAD",B.EMITTER_ADDED="EMITTER_ADDED",B.EMITTER_REMOVED="EMITTER_REMOVED",B.PROTON_UPDATE="PROTON_UPDATE",B.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",B.DEFAULT_INTERVAL=.0167,B.amendChangeTabsBug=!0,A.bind(B);var z=(a(D,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),D);function D(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;t(this,D),this.r=e,this.g=i,this.b=n}var V={easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*i.PI_2)},easeOutSine:function(t){return Math.sin(t*i.PI_2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},getEasing:function(t){return"function"==typeof t?t:this[t]||this.easeLinear}},L=(a(F,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getGradient",value:function(){return 0!==this.x?Math.atan2(this.y,this.x):0<this.y?i.PI_2:this.y<0?-i.PI_2:void 0}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}},{key:"addXY",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"sub",value:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"divideScalar",value:function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"rotate",value:function(t){var e=this.x,i=this.y;return this.x=e*Math.cos(t)+i*Math.sin(t),this.y=-e*Math.sin(t)+i*Math.cos(t),this}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new F(this.x,this.y)}}]),F);function F(e,i){t(this,F),this.x=e||0,this.y=i||0}var U=(a(N,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*i.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=V.easeLinear,this.rgb.reset(),k.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(t,e){if(this.sleep||(this.age+=t,this.applyBehaviours(t,e)),this.age<this.life){var i=this.easing(this.age/this.life);this.energy=Math.max(1-i,0)}else this.destroy()}},{key:"applyBehaviours",value:function(t,e){var i=this.behaviours.length,n=void 0;for(n=0;n<i;n++)this.behaviours[n]&&this.behaviours[n].applyBehaviour(this,t,e)}},{key:"addBehaviour",value:function(t){this.behaviours.push(t),t.hasOwnProperty("parents")&&t.parents.push(this),t.initialize(this)}},{key:"addBehaviours",value:function(t){var e=t.length,i=void 0;for(i=0;i<e;i++)this.addBehaviour(t[i])}},{key:"removeBehaviour",value:function(t){var e=this.behaviours.indexOf(t);-1<e&&(this.behaviours.splice(e,1).parents=null)}},{key:"removeAllBehaviours",value:function(){k.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),N);function N(e){t(this,N),this.name="Particle",this.id=O.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new L,this.v=new L,this.a=new L,this.old.p=new L,this.old.v=new L,this.old.a=new L,this.rgb=new z,this.reset(),e&&k.setProp(this,e)}var Z={hexToRgb:function(t){var e="#"===t.charAt(0)?t.substring(1,7):t;return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},rgbToHex:function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"},getHex16FromParticle:function(t){return 65536*Number(t.rgb.r)+256*Number(t.rgb.g)+Number(t.rgb.b)}},H=(a(G,[{key:"set",value:function(t,e){return this.r=t,this.tha=e,this}},{key:"setR",value:function(t){return this.r=t,this}},{key:"setTha",value:function(t){return this.tha=t,this}},{key:"copy",value:function(t){return this.r=t.r,this.tha=t.tha,this}},{key:"toVector",value:function(){return new L(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(t){return t.r===this.r&&t.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new G(this.r,this.tha)}}]),G);function G(e,i){t(this,G),this.r=Math.abs(e)||0,this.tha=i||0}var q={create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var i=0;i<9;i++)e[i]=t[i];return e},multiply:function(t,e,i){var n=t[0],a=t[1],r=t[2],o=t[3],s=t[4],c=t[6],h=t[7],l=e[0],u=e[1],d=e[2],v=e[3],p=e[4],f=e[6],g=e[7];return i[0]=l*n+u*o,i[1]=l*a+u*s,i[2]=r*d,i[3]=v*n+p*o,i[4]=v*a+p*s,i[6]=f*n+g*o+c,i[7]=f*a+g*s+h,i},inverse:function(t,e){var i,n=t[0],a=t[1],r=t[3],o=t[4],s=t[6],c=t[7],h=o,l=-r,u=c*r-o*s;return i=1/(n*h+a*l),e[0]=h*i,e[1]=-a*i,e[3]=l*i,e[4]=n*i,e[6]=u*i,e[7]=(-c*n+a*s)*i,e},multiplyVec2:function(t,e,i){var n=e[0],a=e[1];return i[0]=n*t[0]+a*t[3]+t[6],i[1]=n*t[1]+a*t[4]+t[7],i}},Y=(s(X,h),a(X,[{key:"getValue",value:function(){var t=k.getRandFromArray(this._arr);return"random"===t||"Random"===t?i.randomColor():t}}],[{key:"createArraySpan",value:function(t){return t?t instanceof X?t:new X(t):null}}]),X);function X(e){t(this,X);var i=c(this,(X.__proto__||Object.getPrototypeOf(X)).call(this));return i._arr=k.toArray(e),i}var $=(a(W,[{key:"contains",value:function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y}}]),W);function W(e,i,n,a){t(this,W),this.x=e,this.y=i,this.width=n,this.height=a,this.bottom=this.y+this.height,this.right=this.x+this.width}var K=(a(Q,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1===this.numPan.b?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),Q);function Q(e,i){t(this,Q),this.numPan=h.setSpanValue(k.initValue(e,1)),this.timePan=h.setSpanValue(k.initValue(i,1)),this.startTime=0,this.nextTime=0,this.init()}var J=(a(tt,[{key:"reset",value:function(){}},{key:"init",value:function(t,e){e?this.initialize(e):this.initialize(t)}},{key:"initialize",value:function(){}}]),tt);function tt(){t(this,tt)}var et=(s(it,J),a(it,[{key:"initialize",value:function(t){this.lifePan.a===1/0?t.life=1/0:t.life=this.lifePan.getValue()}}]),it);function it(e,i,n){t(this,it);var a=c(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return a.lifePan=h.setSpanValue(e,i,n),a.name="Life",a}var nt=(a(at,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),at);function at(){t(this,at),this.vector=new L(0,0),this.random=0,this.crossType="dead",this.alert=!0}var rt=(s(ot,nt),a(ot,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),ot);function ot(e,i){t(this,ot);var n=c(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this));return n.x=e,n.y=i,n}var st=(s(ct,J),a(ct,[{key:"reset",value:function(t){this.zone=k.initValue(t,new rt)}},{key:"initialize",value:function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y}}]),ct);function ct(e){t(this,ct);var i=c(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this));return i.zone=k.initValue(e,new rt),i.name="Position",i}var ht=(s(lt,J),a(lt,[{key:"reset",value:function(t,e,i){this.rPan=h.setSpanValue(t),this.thaPan=h.setSpanValue(e),this.type=k.initValue(i,"vector")}},{key:"normalizeVelocity",value:function(t){return t*B.MEASURE}},{key:"initialize",value:function(t){if("p"===this.type||"P"===this.type||"polar"===this.type){var e=new H(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*i.PI_180);t.v.x=e.getX(),t.v.y=e.getY()}else t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue())}}]),lt);function lt(e,i,n){t(this,lt);var a=c(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this));return a.rPan=h.setSpanValue(e),a.thaPan=h.setSpanValue(i),a.type=k.initValue(n,"vector"),a.name="Velocity",a}var ut=(s(dt,J),a(dt,[{key:"initialize",value:function(t){t.mass=this.massPan.getValue()}}]),dt);function dt(e,i,n){t(this,dt);var a=c(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return a.massPan=h.setSpanValue(e,i,n),a.name="Mass",a}var vt=(s(pt,J),a(pt,[{key:"reset",value:function(t,e,i){this.radius=h.setSpanValue(t,e,i)}},{key:"initialize",value:function(t){t.radius=this.radius.getValue(),t.data.oldRadius=t.radius}}]),pt);function pt(e,i,n){t(this,pt);var a=c(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return a.radius=h.setSpanValue(e,i,n),a.name="Radius",a}var ft=(s(gt,J),a(gt,[{key:"initialize",value:function(t){var e=this.image.getValue();t.body="string"==typeof e?{width:this.w,height:this.h,src:e,isInner:!0,inner:!0}:e}},{key:"setSpanValue",value:function(t){return t instanceof Y?t:new Y(t)}}]),gt);function gt(e,i,n){t(this,gt);var a=c(this,(gt.__proto__||Object.getPrototypeOf(gt)).call(this));return a.image=a.setSpanValue(e),a.w=k.initValue(i,20),a.h=k.initValue(n,a.w),a.name="Body",a}var yt=(a(mt,[{key:"reset",value:function(t,e){this.life=k.initValue(t,1/0),this.easing=V.getEasing(e)}},{key:"normalizeForce",value:function(t){return t.multiplyScalar(B.MEASURE)}},{key:"normalizeValue",value:function(t){return t*B.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(t,e){if(this.age+=e,this.age>=this.life||this.dead)this.energy=0,this.dead=!0,this.destroy();else{var i=this.easing(t.age/t.life);this.energy=Math.max(1-i,0)}}},{key:"destroy",value:function(){for(var t=this.parents.length;t--;)this.parents[t].removeBehaviour(this);this.parents.length=0}}]),mt);function mt(e,i){t(this,mt),this.life=k.initValue(e,1/0),this.easing=V.getEasing(i),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+mt.id++,this.name="Behaviour"}yt.id=0;var bt=(s(wt,yt),a(wt,[{key:"reset",value:function(t,e,i,n){this.force=this.normalizeForce(new L(t,e)),i&&o(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"reset",this).call(this,i,n)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),t.a.add(this.force)}}]),wt);function wt(e,i,n,a){t(this,wt);var r=c(this,(wt.__proto__||Object.getPrototypeOf(wt)).call(this,n,a));return r.force=r.normalizeForce(new L(e,i)),r.name="Force",r}var xt=(s(Pt,yt),a(Pt,[{key:"reset",value:function(t,e,i,n,a){this.targetPosition=k.initValue(t,new L),this.radius=k.initValue(i,1e3),this.force=k.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new L,this.lengthSq=0,n&&o(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"reset",this).call(this,n,a)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))}}]),Pt);function Pt(e,i,n,a,r){t(this,Pt);var o=c(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).call(this,a,r));return o.targetPosition=k.initValue(e,new L),o.radius=k.initValue(n,1e3),o.force=k.initValue(o.normalizeValue(i),100),o.radiusSq=o.radius*o.radius,o.attractionForce=new L,o.lengthSq=0,o.name="Attraction",o}var kt=(s(_t,yt),a(_t,[{key:"reset",value:function(t,e,i,n,a){this.panFoce=new L(t,e),this.panFoce=this.normalizeForce(this.panFoce),this.delay=i,n&&o(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"reset",this).call(this,n,a)}},{key:"initialize",value:function(t){t.data.time=0}},{key:"applyBehaviour",value:function(t,e,n){this.calculate(t,e,n),t.data.time+=e,t.data.time>=this.delay&&(t.a.addXY(i.randomAToB(-this.panFoce.x,this.panFoce.x),i.randomAToB(-this.panFoce.y,this.panFoce.y)),t.data.time=0)}}]),_t);function _t(e,i,n,a,r){t(this,_t);var o=c(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,a,r));return o.reset(e,i,n),o.time=0,o.name="RandomDrift",o}var Ot=(s(Rt,bt),a(Rt,[{key:"reset",value:function(t,e,i){o(Rt.prototype.__proto__||Object.getPrototypeOf(Rt.prototype),"reset",this).call(this,0,t,e,i)}}]),Rt);function Rt(e,i,n){t(this,Rt);var a=c(this,(Rt.__proto__||Object.getPrototypeOf(Rt)).call(this,0,e,i,n));return a.name="Gravity",a}var Et=(s(Ct,yt),a(Ct,[{key:"reset",value:function(t,e,i,n,a){this.emitter=k.initValue(t,null),this.mass=k.initValue(e,!0),this.callback=k.initValue(i,null),this.collisionPool=[],this.delta=new L,n&&o(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),"reset",this).call(this,n,a)}},{key:"applyBehaviour",value:function(t,e,i){var n=this.emitter?this.emitter.particles.slice(i):this.pool.slice(i),a=n.length,r=void 0,o=void 0,s=void 0,c=void 0,h=void 0,l=void 0,u=void 0;for(u=0;u<a;u++)if((r=n[u])!==t){this.delta.copy(r.p),this.delta.sub(t.p),o=this.delta.lengthSq();var d=t.radius+r.radius;o<=d*d&&(s=d-Math.sqrt(o),s+=.5,c=t.mass+r.mass,h=this.mass?r.mass/c:.5,l=this.mass?t.mass/c:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(s*-h)),r.p.add(this.delta.normalize().multiplyScalar(s*l)),this.callback&&this.callback(t,r))}}}]),Ct);function Ct(e,i,n,a,r){t(this,Ct);var o=c(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).call(this,a,r));return o.reset(e,i,n),o.name="Collision",o}var St=(s(At,yt),a(At,[{key:"reset",value:function(t,e,i,n){this.zone=t,this.zone.crossType=k.initValue(e,"dead"),i&&o(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"reset",this).call(this,i,n)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),this.zone.crossing(t)}}]),At);function At(e,i,n,a){t(this,At);var r=c(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,n,a));return r.reset(e,i),r.name="CrossZone",r}var Tt=(s(It,yt),a(It,[{key:"reset",value:function(t,e,i,n){this.same=null==e,this.a=h.setSpanValue(k.initValue(t,1)),this.b=h.setSpanValue(e),i&&o(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(t){t.data.alphaA=this.a.getValue(),this.same?t.data.alphaB=t.data.alphaA:t.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),t.alpha=t.data.alphaB+(t.data.alphaA-t.data.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)}}]),It);function It(e,i,n,a){t(this,It);var r=c(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,n,a));return r.reset(e,i),r.name="Alpha",r}var Mt=(s(Bt,yt),a(Bt,[{key:"reset",value:function(t,e,i,n){this.same=null==e,this.a=h.setSpanValue(k.initValue(t,1)),this.b=h.setSpanValue(e),i&&o(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(t){t.data.scaleA=this.a.getValue(),t.data.oldRadius=t.radius,t.data.scaleB=this.same?t.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),t.scale=t.data.scaleB+(t.data.scaleA-t.data.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.data.oldRadius*t.scale}}]),Bt);function Bt(e,i,n,a){t(this,Bt);var r=c(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,n,a));return r.reset(e,i),r.name="Scale",r}var jt=(s(zt,yt),a(zt,[{key:"reset",value:function(t,e,i,n,a){this.same=null==e,this.a=h.setSpanValue(k.initValue(t,"Velocity")),this.b=h.setSpanValue(k.initValue(e,0)),this.style=k.initValue(i,"to"),n&&o(zt.prototype.__proto__||Object.getPrototypeOf(zt.prototype),"reset",this).call(this,n,a)}},{key:"initialize",value:function(t){t.rotation=this.a.getValue(),t.data.rotationA=this.a.getValue(),this.same||(t.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i),this.same?"V"!==this.a.a&&"Velocity"!==this.a.a&&"v"!==this.a.a||(t.rotation=t.getDirection()):"to"===this.style||"TO"===this.style||"_"===this.style?t.rotation+=t.data.rotationB+(t.data.rotationA-t.data.rotationB)*this.energy:t.rotation+=t.data.rotationB}}]),zt);function zt(e,i,n,a,r){t(this,zt);var o=c(this,(zt.__proto__||Object.getPrototypeOf(zt)).call(this,a,r));return o.reset(e,i,n),o.name="Rotate",o}var Dt=(s(Vt,yt),a(Vt,[{key:"reset",value:function(t,e,i,n){this.a=Y.createArraySpan(t),this.b=Y.createArraySpan(e),i&&o(Vt.prototype.__proto__||Object.getPrototypeOf(Vt.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(t){t.color=this.a.getValue(),t.data.colorA=Z.hexToRgb(t.color),this.b&&(t.data.colorB=Z.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(t,e,i){this.b?(this.calculate(t,e,i),t.rgb.r=t.data.colorB.r+(t.data.colorA.r-t.data.colorB.r)*this.energy,t.rgb.g=t.data.colorB.g+(t.data.colorA.g-t.data.colorB.g)*this.energy,t.rgb.b=t.data.colorB.b+(t.data.colorA.b-t.data.colorB.b)*this.energy,t.rgb.r=Math.floor(t.rgb.r),t.rgb.g=Math.floor(t.rgb.g),t.rgb.b=Math.floor(t.rgb.b)):(t.rgb.r=t.data.colorA.r,t.rgb.g=t.data.colorA.g,t.rgb.b=t.data.colorA.b)}}]),Vt);function Vt(e,i,n,a){t(this,Vt);var r=c(this,(Vt.__proto__||Object.getPrototypeOf(Vt)).call(this,n,a));return r.reset(e,i),r.name="Color",r}var Lt="changing",Ft=(s(Ut,yt),a(Ut,[{key:"setAngleAndForce",value:function(t,e){this.force=Lt,this.angle=i.PI/2,"right"===t?this.angle=i.PI/2:"left"===t?this.angle=-i.PI/2:"random"===t?this.angle="random":t instanceof h?(this.angle="span",this.span=t):t&&(this.angle=t),"changing"===String(e).toLowerCase()||"chang"===String(e).toLowerCase()||"auto"===String(e).toLowerCase()?this.force=Lt:e&&(this.force=e)}},{key:"reset",value:function(t,e,n,a){this.angle=i.PI/2,this.setAngleAndForce(t,e),n&&o(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"reset",this).call(this,n,a)}},{key:"initialize",value:function(t){"random"===this.angle?t.data.cangle=i.randomAToB(-i.PI,i.PI):"span"===this.angle&&(t.data.cangle=this.span.getValue()),t.data.cyclone=new L(0,0)}},{key:"applyBehaviour",value:function(t,e,i){this.calculate(t,e,i);var n=void 0,a=t.v.getGradient();"random"===this.angle||"span"===this.angle?a+=t.data.cangle:a+=this.angle,n=this.force===Lt?t.v.length()/100:this.force,t.data.cyclone.x=n*Math.cos(a),t.data.cyclone.y=n*Math.sin(a),t.data.cyclone=this.normalizeForce(t.data.cyclone),t.a.add(t.data.cyclone)}}]),Ut);function Ut(e,i,n,a){t(this,Ut);var r=c(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,n,a));return r.setAngleAndForce(e,i),r.name="Cyclone",r}var Nt=(s(Zt,xt),a(Zt,[{key:"reset",value:function(t,e,i,n,a){o(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"reset",this).call(this,t,e,i,n,a),this.force*=-1}}]),Zt);function Zt(e,i,n,a,r){t(this,Zt);var o=c(this,(Zt.__proto__||Object.getPrototypeOf(Zt)).call(this,e,i,n,a,r));return o.force*=-1,o.name="Repulsion",o}var Ht=(s(Gt,yt),a(Gt,[{key:"reset",value:function(t,e,i,n){this.distanceVec=new L,this.centerPoint=k.initValue(t,new L),this.force=k.initValue(this.normalizeValue(e),100),i&&o(Gt.prototype.__proto__||Object.getPrototypeOf(Gt.prototype),"reset",this).call(this,i,n)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(t,e){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var i=this.distanceVec.lengthSq();if(0!==i){var n=this.distanceVec.length(),a=this.force*e/(i*n);t.v.x+=a*this.distanceVec.x,t.v.y+=a*this.distanceVec.y}}}]),Gt);function Gt(e,i,n,a){t(this,Gt);var r=c(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this,n,a));return r.distanceVec=new L,r.centerPoint=k.initValue(e,new L),r.force=k.initValue(r.normalizeValue(i),100),r.name="GravityWell",r}var qt={initialize:function(t,e,i){var n=i.length,a=void 0;for(a=0;a<n;a++)i[a]instanceof J?i[a].init(t,e):this.init(t,e,i[a]);this.bindEmitter(t,e)},init:function(t,e,i){k.setProp(e,i),k.setVectorVal(e,i)},bindEmitter:function(t,e){t.bindEmitter&&(e.p.add(t.p),e.v.add(t.v),e.a.add(t.a),e.v.rotate(i.degreeTransform(t.rotation)))}},Yt=(s(Xt,U),a(Xt,[{key:"emit",value:function(t,e){this.stoped=!1,this.emitTime=0,this.totalTime=k.initValue(t,1/0),!0===e||"life"===e||"destroy"===e?this.life="once"===t?1:this.totalTime:isNaN(e)||(this.life=e),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(t){var e=this.stoped,i=this.emitTime,n=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=t,this.rate.init();.0167<t;)t-=.0167,this.update(.0167);this.stoped=e,this.emitTime=i+Math.max(t,0),this.totalTime=n}},{key:"removeAllParticles",value:function(){for(var t=this.particles.length;t--;)this.particles[t].dead=!0}},{key:"addSelfInitialize",value:function(t){t.init?t.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=e.length;n--;)this.initializes.push(e[n])}},{key:"removeInitialize",value:function(t){var e=this.initializes.indexOf(t);-1<e&&this.initializes.splice(e,1)}},{key:"removeAllInitializers",value:function(){k.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=arguments.length;n--;){var a=e[n];this.behaviours.push(a),a.parents&&a.parents.push(this)}}},{key:"removeBehaviour",value:function(t){var e=this.behaviours.indexOf(t);return this.behaviours.splice(e,1),t.parents&&(e=t.parents.indexOf(t),t.parents.splice(e,1)),e}},{key:"removeAllBehaviours",value:function(){k.emptyArray(this.behaviours)}},{key:"update",value:function(t){this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t)}},{key:"integrate",value:function(t){if(this.parent){var e=1-this.damping;this.parent.integrator.calculate(this,t,e);var i=void 0,n=void 0;for(i=this.particles.length-1;0<=i;i--)(n=this.particles[i]).update(t,i),this.parent.integrator.calculate(n,t,e),this.dispatch("PARTICLE_UPDATE",n),n.dead&&(this.dispatch("PARTICLE_DEAD",n),this.parent.pool.expire(n),this.particles.splice(i,1))}}},{key:"dispatch",value:function(t,e){this.parent&&this.parent.dispatchEvent(t,e),this.bindEvent&&this.dispatchEvent(t,e)}},{key:"emitting",value:function(t){if("once"===this.totalTime){var e=void 0,i=this.rate.getValue(99999);for(0<i&&(this.emitSpeed=i),e=0;e<i;e++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=t,this.emitTime<this.totalTime){var n=this.rate.getValue(t),a=void 0;for(0<n&&(this.emitSpeed=n),a=0;a<n;a++)this.createParticle()}}},{key:"createParticle",value:function(t,e){var i=this.parent.pool.get(U);return this.setupParticle(i,t,e),this.dispatch("PARTICLE_CREATED",i),i}},{key:"setupParticle",value:function(t,e,i){var n=this.initializes,a=this.behaviours;e&&(n=k.toArray(e)),i&&(a=k.toArray(i)),t.reset(),qt.initialize(this,t,n),t.addBehaviours(a),(t.parent=this).particles.push(t)}},{key:"remove",value:function(){this.stop(),k.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),Xt);function Xt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t(this,Xt);var i=c(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this,e));return i.particles=[],i.behaviours=[],i.initializes=[],i.emitTime=0,i.emitSpeed=0,i.totalTime=-1,i.damping=.006,i.bindEmitter=!0,i.rate=new K(1,.1),i.name="Emitter",i.id=O.id(i.name),i}A.bind(Yt);var $t=(s(Wt,Yt),a(Wt,[{key:"addSelfBehaviour",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=void 0,a=e.length;for(n=0;n<a;n++){var r=e[n];this.selfBehaviours.push(r),r.initialize(this)}}},{key:"removeSelfBehaviour",value:function(t){var e=this.selfBehaviours.indexOf(t);-1<e&&this.selfBehaviours.splice(e,1)}},{key:"update",value:function(t){if(o(Wt.prototype.__proto__||Object.getPrototypeOf(Wt.prototype),"update",this).call(this,t),!this.sleep){var e=this.selfBehaviours.length,i=void 0;for(i=0;i<e;i++)this.selfBehaviours[i].applyBehaviour(this,t,i)}}}]),Wt);function Wt(e){t(this,Wt);var i=c(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).call(this,e));return i.selfBehaviours=[],i}var Kt=(s(Qt,Yt),a(Qt,[{key:"initEventHandler",value:function(){var t=this;this.mousemoveHandler=function(e){return t.mousemove.call(t,e)},this.mousedownHandler=function(e){return t.mousedown.call(t,e)},this.mouseupHandler=function(e){return t.mouseup.call(t,e)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(t){t.layerX||0===t.layerX?(this.p.x+=(t.layerX-this.p.x)*this.ease,this.p.y+=(t.layerY-this.p.y)*this.ease):!t.offsetX&&0!==t.offsetX||(this.p.x+=(t.offsetX-this.p.x)*this.ease,this.p.y+=(t.offsetY-this.p.y)*this.ease),this._allowEmitting&&o(Qt.prototype.__proto__||Object.getPrototypeOf(Qt.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){o(Qt.prototype.__proto__||Object.getPrototypeOf(Qt.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),Qt);function Qt(e,i,n){t(this,Qt);var a=c(this,(Qt.__proto__||Object.getPrototypeOf(Qt)).call(this,n));return a.mouseTarget=k.initValue(e,window),a.ease=k.initValue(i,.7),a._allowEmitting=!1,a.initEventHandler(),a}var Jt=(a(te,[{key:"setStroke",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:"#000000",n=1<arguments.length&&void 0!==e?e:1;this.stroke={color:i,thinkness:n}}},{key:"initHandler",value:function(){var t=this;this._protonUpdateHandler=function(){t.onProtonUpdate.call(t)},this._protonUpdateAfterHandler=function(){t.onProtonUpdateAfter.call(t)},this._emitterAddedHandler=function(e){t.onEmitterAdded.call(t,e)},this._emitterRemovedHandler=function(e){t.onEmitterRemoved.call(t,e)},this._particleCreatedHandler=function(e){t.onParticleCreated.call(t,e)},this._particleUpdateHandler=function(e){t.onParticleUpdate.call(t,e)},this._particleDeadHandler=function(e){t.onParticleDead.call(t,e)}}},{key:"init",value:function(t){(this.parent=t).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),t.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),t.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),t.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),t.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),t.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),t.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),te);function te(e,i){t(this,te),this.pool=new R,this.element=e,this.stroke=i,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var ee=(s(ie,Jt),a(ie,[{key:"resize",value:function(t,e){this.element.width=t,this.element.height=e}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(t){t.body?x(t.body,this.addImg2Body,t):t.color=t.color||"#ff0000"}},{key:"onParticleUpdate",value:function(t){t.body?t.body instanceof Image&&this.drawImage(t):this.drawCircle(t)}},{key:"onParticleDead",value:function(t){t.body=null}},{key:"addImg2Body",value:function(t,e){e.body=t}},{key:"drawImage",value:function(t){var e=t.body.width*t.scale|0,n=t.body.height*t.scale|0,a=t.p.x-e/2,r=t.p.y-n/2;if(t.color){t.data.buffer||(t.data.buffer=this.createBuffer(t.body));var o=t.data.buffer.getContext("2d");o.clearRect(0,0,t.data.buffer.width,t.data.buffer.height),o.globalAlpha=t.alpha,o.drawImage(t.body,0,0),o.globalCompositeOperation="source-atop",o.fillStyle=Z.rgbToHex(t.rgb),o.fillRect(0,0,t.data.buffer.width,t.data.buffer.height),o.globalCompositeOperation="source-over",o.globalAlpha=1,this.context.drawImage(t.data.buffer,0,0,t.data.buffer.width,t.data.buffer.height,a,r,e,n)}else this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(i.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.body,0,0,t.body.width,t.body.height,a,r,e,n),this.context.globalAlpha=1,this.context.restore()}},{key:"drawCircle",value:function(t){t.rgb?this.context.fillStyle="rgba("+t.rgb.r+","+t.rgb.g+","+t.rgb.b+","+t.alpha+")":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(t){if(t instanceof Image){var e=t.width+"_"+t.height,i=this.bufferCache[e];return i||((i=document.createElement("canvas")).width=t.width,i.height=t.height,this.bufferCache[e]=i),i}}}]),ie);function ie(e){t(this,ie);var i=c(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,e));return i.stroke=null,i.context=i.element.getContext("2d"),i.bufferCache={},i.name="CanvasRenderer",i}var ne=(s(ae,Jt),a(ae,[{key:"onParticleCreated",value:function(t){t.body?x(t.body,this.addImg2Body,t):(t.body=this.pool.get(this.circleConf,t),this.element.appendChild(t.body))}},{key:"onParticleUpdate",value:function(t){this.bodyReady(t)&&(this.transform3d?g.transform3d(t.body,t.p.x,t.p.y,t.scale,t.rotation):g.transform(t.body,t.p.x,t.p.y,t.scale,t.rotation),t.body.style.opacity=t.alpha,t.body.isCircle&&(t.body.style.backgroundColor=t.color||"#ff0000"))}},{key:"onParticleDead",value:function(t){this.bodyReady(t)&&(this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null)}},{key:"bodyReady",value:function(t){return"object"===n(t.body)&&t.body&&!t.body.isInner}},{key:"addImg2Body",value:function(t,e){e.dead||(e.body=this.pool.get(t,e),g.resize(e.body,t.width,t.height),this.element.appendChild(e.body))}},{key:"createBody",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t,e)}},{key:"createCircle",value:function(t){var e=g.createDiv(t.id+"_dom",2*t.radius,2*t.radius);return e.style.borderRadius=t.radius+"px",this.stroke&&(e.style.borderColor=this.stroke.color,e.style.borderWidth=this.stroke.thinkness+"px"),e.isCircle=!0,e}},{key:"createSprite",value:function(t,e){var i="string"==typeof t?t:t.src,n=g.createDiv(e.id+"_dom",t.width,t.height);return n.style.backgroundImage="url("+i+")",n}}]),ae);function ae(e){t(this,ae);var i=c(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,e));return i.stroke=null,i.pool.create=function(t,e){return i.createBody(t,e)},i.addImg2Body=i.addImg2Body.bind(i),i.transform3d=!1,i.name="DomRenderer",i}var re=(s(oe,Jt),a(oe,[{key:"onParticleCreated",value:function(t){t.body?this.createSprite(t):this.createCircle(t),this.element.addChild(t.body)}},{key:"onParticleUpdate",value:function(t){t.body&&(t.body.x=t.p.x,t.body.y=t.p.y,t.body.alpha=t.alpha,t.body.scaleX=t.body.scaleY=t.scale,t.body.rotation=t.rotation)}},{key:"onParticleDead",value:function(t){t.body&&(t.body.parent&&t.body.parent.removeChild(t.body),this.pool.expire(t.body),t.body=null),t.graphics&&this.pool.expire(t.graphics)}},{key:"createSprite",value:function(t){t.body=this.pool.get(t.body),t.body.parent||t.body.image&&(t.body.regX=t.body.image.width/2,t.body.regY=t.body.image.height/2)}},{key:"createCircle",value:function(t){var e=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?e.beginStroke(this.stroke):e.beginStroke("#000000")),e.beginFill(t.color||"#ff0000").drawCircle(0,0,t.radius);var i=this.pool.get(createjs.Shape,[e]);t.body=i,t.graphics=e}}]),oe);function oe(e,i){t(this,oe);var n=c(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,e));return n.stroke=i,n.name="EaselRenderer",n}var se=(s(ce,Jt),a(ce,[{key:"resize",value:function(t,e){this.element.width=t,this.element.height=e}},{key:"createImageData",value:function(t){this.rectangle=t||new $(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(t){this.imageData&&this.setPixel(this.imageData,Math.floor(t.p.x-this.rectangle.x),Math.floor(t.p.y-this.rectangle.y),t)}},{key:"setPixel",value:function(t,e,i,n){var a=n.rgb;if(!(e<0||e>this.element.width||i<0||i>this.elementwidth)){var r=4*((i>>0)*t.width+(e>>0));t.data[r]=a.r,t.data[1+r]=a.g,t.data[2+r]=a.b,t.data[3+r]=255*n.alpha}}},{key:"onParticleDead",value:function(){}}]),ce);function ce(e,i){t(this,ce);var n=c(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,e));return n.context=n.element.getContext("2d"),n.imageData=null,n.rectangle=null,n.rectangle=i,n.createImageData(i),n.name="PixelRenderer",n}var he=void 0,le=(s(ue,Jt),a(ue,[{key:"setPIXI",value:function(t){try{he=t||{Sprite:{}},this.createFromImage=he.Sprite.from||he.Sprite.fromImage}catch(t){}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(t){t.body?t.body=this.pool.get(t.body,t):t.body=this.pool.get(this.circleConf,t),this.blendMode&&(t.body.blendMode=this.blendMode),this.element.addChild(t.body)}},{key:"onParticleUpdate",value:function(t){this.transform(t,t.body),!0!==this.setColor&&!0!==this.color||(t.body.tint=Z.getHex16FromParticle(t))}},{key:"onParticleDead",value:function(t){this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null}},{key:"destroy",value:function(t){o(ue.prototype.__proto__||Object.getPrototypeOf(ue.prototype),"destroy",this).call(this),this.pool.destroy();for(var e=t.length;e--;){var i=t[e];i.body&&this.element.removeChild(i.body)}}},{key:"transform",value:function(t,e){e.x=t.p.x,e.y=t.p.y,e.alpha=t.alpha,e.scale.x=t.scale,e.scale.y=t.scale,e.rotation=t.rotation*i.PI_180}},{key:"createBody",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t)}},{key:"createSprite",value:function(t){var e=t.isInner?this.createFromImage(t.src):new he.Sprite(t);return e.anchor.x=.5,e.anchor.y=.5,e}},{key:"createCircle",value:function(t){var e=new he.Graphics;if(this.stroke){var i=this.stroke instanceof String?this.stroke:0;e.beginStroke(i)}return e.beginFill(t.color||36077),e.drawCircle(0,0,t.radius),e.endFill(),e}}]),ue);function ue(e,i){t(this,ue);var n=c(this,(ue.__proto__||Object.getPrototypeOf(ue)).call(this,e));return n.stroke=i,n.color=!1,n.setColor=!1,n.blendMode=null,n.pool.create=function(t,e){return n.createBody(t,e)},n.setPIXI(window.PIXI),n.name="PixiRenderer",n}var de=(a(ve,[{key:"set",value:function(t,e){0===e?q.set(t,this.mats[0]):q.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)}},{key:"push",value:function(t){0===this.size?q.set(t,this.mats[0]):q.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),ve);function ve(){t(this,ve),this.mats=[];for(var e=this.size=0;e<20;e++)this.mats.push(q.create([0,0,0,0,0,0,0,0,0]))}var pe=(s(fe,Jt),a(fe,[{key:"init",value:function(t){o(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"init",this).call(this,t),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e}},{key:"setMaxRadius",value:function(t){this.circleCanvasURL=this.createCircle(t)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join("\n")}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join("\n")}},{key:"initVar",value:function(){this.mstack=new de,this.umat=q.create([2,0,1,0,-2,0,-1,1,1]),this.smat=q.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(t){this.gl.blendEquation(this.gl[t])}},{key:"blendFunc",value:function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])}},{key:"getShader",value:function(t,e,i){var n=i?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);return t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert(t.getShaderInfoLog(n)),null)}},{key:"initShaders",value:function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var t=void 0;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);var e=void 0,i=[];for(e=0;e<100;e++)i.push(e);for(t=new Uint16Array(i),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),i=[],e=0;e<100;e++)i.push(e,e+1,e+2);t=new Uint16Array(i),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(t){this.circleCanvasRadius=u(k.initValue(t,32));var e=g.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),i=e.getContext("2d");return i.beginPath(),i.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),i.closePath(),i.fillStyle="#FFF",i.fill(),e.toDataURL()}},{key:"drawImg2Canvas",value:function(t){var e=t.body.width,i=t.body.height,n=u(t.body.width),a=u(t.body.height),r=t.body.width/n,o=t.body.height/a;this.texturebuffers[t.data.src]||(this.texturebuffers[t.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.data.texture=this.texturebuffers[t.data.src][0],t.data.vcBuffer=this.texturebuffers[t.data.src][1],t.data.tcBuffer=this.texturebuffers[t.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,o,o,o]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,i,e,i]),this.gl.STATIC_DRAW);var s=t.data.canvas.getContext("2d").getImageData(0,0,n,a);this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.data.textureLoaded=!0,t.data.textureWidth=e,t.data.textureHeight=i}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(t){t.data.textureLoaded=!1,t.data.tmat=q.create(),t.data.tmat[8]=1,t.data.imat=q.create(),t.data.imat[8]=1,t.body?x(t.body,this.addImg2Body,t):(x(this.circleCanvasURL,this.addImg2Body,t),t.data.oldScale=t.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(t,e){e.dead||(e.body=t,e.data.src=t.src,e.data.canvas=P(t),e.data.oldScale=1,this.drawImg2Canvas(e))}},{key:"onParticleUpdate",value:function(t){t.data.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.rgb.r/255,t.rgb.g/255,t.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(t){var e=d(-t.data.textureWidth/2,-t.data.textureHeight/2),n=d(t.p.x,t.p.y),a=t.rotation*i.PI_180,r=v(a),o=t.scale*t.data.oldScale,s=p(o,o),c=f(e,s);c=f(c,r),c=f(c,n),q.inverse(c,t.data.imat),c[2]=t.alpha,this.mstack.push(c)}}]),fe);function fe(e){t(this,fe);var i=c(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,e));return i.gl=i.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),i.gl||alert("Sorry your browser do not suppest WebGL!"),i.initVar(),i.setMaxRadius(),i.initShaders(),i.initBuffers(),i.gl.blendEquation(i.gl.FUNC_ADD),i.gl.blendFunc(i.gl.SRC_ALPHA,i.gl.ONE_MINUS_SRC_ALPHA),i.gl.enable(i.gl.BLEND),i.addImg2Body=i.addImg2Body.bind(i),i.name="WebGLRenderer",i}var ge=(s(ye,Jt),ye);function ye(e){t(this,ye);var i=c(this,(ye.__proto__||Object.getPrototypeOf(ye)).call(this,e));return i.name="CustomRenderer",i}var me=(s(be,nt),a(be,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(t,e){var i=this.dy,n=-this.dx;return 0<(i*t+n*e+this.dot)*(0==n?1:n)}},{key:"getDistance",value:function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(t){var e=t.getGradient(),i=2*(this.getGradient()-e),n=t.x,a=t.y;return t.x=n*Math.cos(i)-a*Math.sin(i),t.y=n*Math.sin(i)+a*Math.cos(i),t}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(t){if(Math.abs(this.getGradient())<=i.PI/4){if(t.p.x<=this.maxx&&t.p.x>=this.minx)return!0}else if(t.p.y<=this.maxy&&t.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(t){if("dead"===this.crossType)if(">"===this.direction||"R"===this.direction||"right"===this.direction||"down"===this.direction){if(!this.rangeOut(t))return;this.getDirection(t.p.x,t.p.y)&&(t.dead=!0)}else{if(!this.rangeOut(t))return;this.getDirection(t.p.x,t.p.y)||(t.dead=!0)}else if("bound"===this.crossType){if(!this.rangeOut(t))return;this.getDistance(t.p.x,t.p.y)<=t.radius&&(0===this.dx?t.v.x*=-1:0===this.dy?t.v.y*=-1:this.getSymmetric(t.v))}else"cross"===this.crossType&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),be);function be(e,i,n,a,r){t(this,be);var o=c(this,(be.__proto__||Object.getPrototypeOf(be)).call(this));return 0<=n-e?(o.x1=e,o.y1=i,o.x2=n,o.y2=a):(o.x1=n,o.y1=a,o.x2=e,o.y2=i),o.dx=o.x2-o.x1,o.dy=o.y2-o.y1,o.minx=Math.min(o.x1,o.x2),o.miny=Math.min(o.y1,o.y2),o.maxx=Math.max(o.x1,o.x2),o.maxy=Math.max(o.y1,o.y2),o.dot=o.x2*o.y1-o.x1*o.y2,o.xxyy=o.dx*o.dx+o.dy*o.dy,o.gradient=o.getGradient(),o.length=o.getLength(),o.direction=k.initValue(r,">"),o}var we=(s(xe,nt),a(xe,[{key:"getPosition",value:function(){return this.angle=i.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(t,e){this.center.x=t,this.center.y=e}},{key:"crossing",value:function(t){var e=t.p.distanceTo(this.center);"dead"===this.crossType?e-t.radius>this.radius&&(t.dead=!0):"bound"===this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):"cross"===this.crossType&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(t){var e=t.v.getGradient(),i=2*(this.getGradient(t)-e),n=t.v.x,a=t.v.y;t.v.x=n*Math.cos(i)-a*Math.sin(i),t.v.y=n*Math.sin(i)+a*Math.cos(i)}},{key:"getGradient",value:function(t){return-i.PI_2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)}}]),xe);function xe(e,i,n){t(this,xe);var a=c(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this));return a.x=e,a.y=i,a.radius=n,a.angle=0,a.center={x:e,y:i},a}var Pe=(s(ke,nt),a(ke,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(t){"dead"===this.crossType?((t.p.x+t.radius<this.x||t.p.x-t.radius>this.x+this.width)&&(t.dead=!0),(t.p.y+t.radius<this.y||t.p.y-t.radius>this.y+this.height)&&(t.dead=!0)):"bound"===this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):"cross"===this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&0<=t.v.x&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&0<=t.v.y&&(t.p.y=this.y-t.radius))}}]),ke);function ke(e,i,n,a){t(this,ke);var r=c(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return r.x=e,r.y=i,r.width=n,r.height=a,r}var _e=(s(Oe,nt),a(Oe,[{key:"reset",value:function(t,e,i,n){this.imageData=t,this.x=k.initValue(e,0),this.y=k.initValue(i,0),this.d=k.initValue(n,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){var t=void 0,e=void 0,i=this.imageData.width,n=this.imageData.height;for(t=0;t<i;t+=this.d)for(e=0;e<n;e+=this.d){var a=4*((e>>0)*i+(t>>0));0<this.imageData.data[3+a]&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector}},{key:"getBound",value:function(t,e){var i=4*((e>>0)*this.imageData.width+(t>>0));return 0<this.imageData.data[3+i]}},{key:"getPosition",value:function(){var t=k.getRandFromArray(this.vectors);return this.vector.copy(t)}},{key:"getColor",value:function(t,e){t-=this.x;var i=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0));return{r:this.imageData.data[i],g:this.imageData.data[1+i],b:this.imageData.data[2+i],a:this.imageData.data[3+i]}}},{key:"crossing",value:function(t){"dead"===this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:"bound"===this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())}}]),Oe);function Oe(e,i,n,a){t(this,Oe);var r=c(this,(Oe.__proto__||Object.getPrototypeOf(Oe)).call(this));return r.reset(e,i,n,a),r}var Re={addEventListener:function(t,e){t.addEventListener("PROTON_UPDATE_AFTER",(function(){return e()}))},getStyle:function(t){var e=Z.hexToRgb(0<arguments.length&&void 0!==t?t:"#ff0000");return"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},drawZone:function(t,e,i,n){var a=e.getContext("2d"),r=this.getStyle();this.addEventListener(t,(function(){n&&a.clearRect(0,0,e.width,e.height),i instanceof rt?(a.beginPath(),a.fillStyle=r,a.arc(i.x,i.y,10,0,2*Math.PI,!0),a.fill(),a.closePath()):i instanceof me?(a.beginPath(),a.strokeStyle=r,a.moveTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.stroke(),a.closePath()):i instanceof Pe?(a.beginPath(),a.strokeStyle=r,a.drawRect(i.x,i.y,i.width,i.height),a.stroke(),a.closePath()):i instanceof we&&(a.beginPath(),a.strokeStyle=r,a.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),a.stroke(),a.closePath())}))},drawEmitter:function(t,e,i,n){var a=e.getContext("2d"),r=this.getStyle();this.addEventListener(t,(function(){n&&a.clearRect(0,0,e.width,e.height),a.beginPath(),a.fillStyle=r,a.arc(i.p.x,i.p.y,10,0,2*Math.PI,!0),a.fill(),a.closePath()}))}};return B.Particle=B.P=U,B.Pool=R,B.Util=k,B.ColorUtil=Z,B.MathUtil=i,B.Vector2D=B.Vector=L,B.Polar2D=B.Polar=H,B.ArraySpan=Y,B.Rectangle=$,B.Rate=K,B.ease=V,B.Span=h,B.Mat3=q,B.getSpan=function(t,e,i){return new h(t,e,i)},B.createArraySpan=Y.createArraySpan,B.Initialize=B.Init=J,B.Life=B.L=et,B.Position=B.P=st,B.Velocity=B.V=ht,B.Mass=B.M=ut,B.Radius=B.R=vt,B.Body=B.B=ft,B.Behaviour=yt,B.Force=B.F=bt,B.Attraction=B.A=xt,B.RandomDrift=B.RD=kt,B.Gravity=B.G=Ot,B.Collision=Et,B.CrossZone=St,B.Alpha=B.A=Tt,B.Scale=B.S=Mt,B.Rotate=jt,B.Color=Dt,B.Repulsion=Nt,B.Cyclone=Ft,B.GravityWell=Ht,B.Emitter=Yt,B.BehaviourEmitter=$t,B.FollowEmitter=Kt,B.Zone=nt,B.LineZone=me,B.CircleZone=we,B.PointZone=rt,B.RectZone=Pe,B.ImageZone=_e,B.CanvasRenderer=ee,B.DomRenderer=ne,B.EaselRenderer=re,B.PixiRenderer=le,B.PixelRenderer=se,B.WebGLRenderer=B.WebGlRenderer=pe,B.CustomRenderer=ge,B.Debug=Re,k.assign(B,V),B}))},d28b:function(t,e,i){var n=i("746f");n("iterator")},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),a=i("d039"),r=i("b622"),o=i("9263"),s=i("9112"),c=r("species"),h=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=r("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),v=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,u){var p=r(t),f=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=f&&!a((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[p]=/./[p]),i.exec=function(){return e=!0,null},i[p](""),!e}));if(!f||!g||"replace"===t&&(!h||!l||d)||"split"===t&&!v){var y=/./[p],m=i(p,""[t],(function(t,e,i,n,a){return e.exec===o?f&&!a?{done:!0,value:y.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=m[0],w=m[1];n(String.prototype,t,b),n(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}u&&s(RegExp.prototype[p],"sham",!0)}},dcfa:function(t,e,i){"use strict";i("ac4e")},ddb0:function(t,e,i){var n=i("da84"),a=i("fdbc"),r=i("e260"),o=i("9112"),s=i("b622"),c=s("iterator"),h=s("toStringTag"),l=r.values;for(var u in a){var d=n[u],v=d&&d.prototype;if(v){if(v[c]!==l)try{o(v,c,l)}catch(f){v[c]=l}if(v[h]||o(v,h,u),a[u])for(var p in r)if(v[p]!==r[p])try{o(v,p,r[p])}catch(f){v[p]=r[p]}}}},e01a:function(t,e,i){"use strict";var n=i("23e7"),a=i("83ab"),r=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,h=i("e893"),l=r.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(u[e]=!0),e};h(d,l);var v=d.prototype=l.prototype;v.constructor=d;var p=v.toString,f="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(u,t))return"";var i=f?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,i){var n=i("b622");e.f=n},e5b4:function(t,e,i){},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=music.ea1edb9d.js.map